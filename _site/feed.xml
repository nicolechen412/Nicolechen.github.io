<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nicole Blog</title>
    <description>æˆ‘æ˜¯å±…å±…ï¼Œæ¼‚äº®çš„å±…å±…ï¼Œæˆ‘å–œæ¬¢åƒçŒªèˆŒå¤´ï¼Œæ‰€ä»¥æˆ‘åƒä¸œè¥¿è€å’¬è‡ªå·±çš„èˆŒå¤´ï¼Œå•Šå‘€å‘€</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 27 Nov 2018 16:51:32 +0800</pubDate>
    <lastBuildDate>Tue, 27 Nov 2018 16:51:32 +0800</lastBuildDate>
    <generator>Jekyll v3.8.2</generator>
    
      <item>
        <title>Progressive Web App</title>
        <description>&lt;h1 id=&quot;å—è®¾å¤‡io&quot;&gt;å—è®¾å¤‡IO&lt;/h1&gt;

&lt;p&gt;[TOC]&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;æµç¨‹&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;è°ƒåº¦æ–¹æ³•&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;cfq
        &lt;ul&gt;
          &lt;li&gt;cgroup&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;å“ˆå“ˆå“ˆ&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;æ˜å¤©&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;helloword&lt;/p&gt;

  &lt;p&gt;print&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;ç²—ä½“&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;æ–œä½“&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;ç²—ä½“åŠ æ–œä½“&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.baidu.com&quot;&gt;baidu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.baidu.com&quot; title=&quot;hhh&quot;&gt;baidu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.baidu.com&quot;&gt;http://www.baidu.com&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;public static void main(String[] args){
    int a = 1;
    System.out.println(&quot;a:&quot; + a);
}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Name&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Age&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;School&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;pre&gt;&lt;code class=&quot;language-sequence&quot;&gt;Alice-&amp;gt;Bob:Hello Bob, how are you?
Note right of Bob: Bob thinks
Bob-&amp;gt;Alice: I am good thanks!
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&quot;language-flow&quot;&gt;st=&amp;gt;start: Startpast:&amp;gt;http://www.google.com[blank]
e=&amp;gt;end: End:&amp;gt;http://www.google.com
op1=&amp;gt;operation: My Operation|past
op2=&amp;gt;operation: Stuff|current
sub1=&amp;gt;subroutine: My Subroutine|invalid
cond=&amp;gt;condition: Yes
or No?|approved:&amp;gt;http://www.google.com
c2=&amp;gt;condition: Good idea|rejected
io=&amp;gt;inputoutput: catch somethingâ€¦|request

st-&amp;gt;op1(right)-&amp;gt;cond
cond(yes, right)-&amp;gt;c2
cond(no)-&amp;gt;sub1(left)-&amp;gt;op1
c2(yes)-&amp;gt;io-&amp;gt;e
c2(no)-&amp;gt;op2-&amp;gt;e
â€‹```
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½ å¥½&lt;/p&gt;

&lt;/blockquote&gt;

&lt;p&gt;&lt;del&gt;&lt;em&gt;æ–œä½“&lt;/em&gt;&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;ä½ å¥½å¥½&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;$E=mc^2$&lt;/p&gt;

&lt;p&gt;$\sum_{i=1}^n a_i=0$&lt;/p&gt;

&lt;p&gt;$f(x_1,x_x,\ldots,x_n) = x_1^2 + x_2^2 + \cdots + x_n^2 $&lt;/p&gt;

&lt;p&gt;$f(x_1,x_x,\ldots,x_n) = x_1^2 + x_2^2 + \ldots + x_n^2 $&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\sum_{k=0}^{j-1}{\widehat{\gamma}_{kj} z_k}&lt;/script&gt;

&lt;p&gt;æ€ä¹ˆä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;scanf()&lt;/code&gt;?&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;cm&quot;&gt;/*
* @param n &amp;gt;= 0
* @return the nth element
*/&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;stdio.h&amp;gt;
&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Hello world&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;table&gt;
    &lt;tr&gt;
        &lt;th rowspan=&quot;2&quot;&gt;å€¼ç­äººå‘˜&lt;/th&gt;
        &lt;th&gt;æ˜ŸæœŸä¸€&lt;/th&gt;
        &lt;th&gt;æ˜ŸæœŸäºŒ&lt;/th&gt;
        &lt;th&gt;æ˜ŸæœŸä¸‰&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;æå¼º&lt;/td&gt;
        &lt;td&gt;å¼ æ˜&lt;/td&gt;
        &lt;td&gt;ç‹å¹³&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; checked=&quot;checked&quot; /&gt;æ•´ç†&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;$x \href{why-equal.html}{=} y^2 + 1 $&lt;/p&gt;

&lt;p&gt;$x = y^2 + 1 $&lt;/p&gt;

&lt;p&gt;$ x = {-b \pm \sqrt{b^2-4ac} \over 2a}.$&lt;/p&gt;

&lt;p&gt;*&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;å“ˆå“ˆå“ˆå“ˆÂ &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Thu, 25 Oct 2018 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2018/10/25/test/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/10/25/test/</guid>
        
        <category>test</category>
        
        
      </item>
    
      <item>
        <title>ã€ŒçŸ¥ä¹ã€å¦‚ä½•é€šä¿—åœ°è§£é‡Šåœæœºé—®é¢˜ï¼Ÿ</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;è¿™ç¯‡æ–‡ç« è½¬è½½è‡ª&lt;a href=&quot;https://www.zhihu.com/question/20081359/answer/275107187&quot;&gt;æˆ‘åœ¨çŸ¥ä¹ä¸Šçš„å›ç­”&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘ç”¨ Python ä¼ªä»£ç æ¥è§£é‡Šä¸‹ï¼Œæˆ‘è§‰å¾—å¯¹è¿™ä¸ªé—®é¢˜æœ‰å…´è¶£çš„åº”è¯¥éƒ½æ˜¯æœ‰ç‚¹ç¼–ç¨‹åŸºç¡€çš„ï¼Œæ‰€ä»¥ç›´æ¥ä¸Š code åº”è¯¥æ˜¯æœ€å®¹æ˜“çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;èƒŒæ™¯çŸ¥è¯†&quot;&gt;èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;

&lt;p&gt;ã€Œåœæœºé—®é¢˜ã€ç ”ç©¶çš„æ˜¯ï¼šæ˜¯å¦å­˜åœ¨ä¸€ä¸ªã€Œç¨‹åºã€ï¼Œèƒ½å¤Ÿåˆ¤æ–­å¦å¤–ä¸€ä¸ªã€Œç¨‹åºã€åœ¨ç‰¹å®šçš„ã€Œè¾“å…¥ã€ä¸‹ï¼Œæ˜¯ä¼šç»™å‡ºç»“æœï¼ˆåœæœºï¼‰ï¼Œè¿˜æ˜¯ä¼šæ— é™æ‰§è¡Œä¸‹å»ï¼ˆä¸åœæœºï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘ä»¬ç”¨ã€Œå‡½æ•°ã€æ¥è¡¨ç¤ºã€Œç¨‹åºã€ï¼Œã€Œå‡½æ•°è¿”å›ã€å³è¡¨ç¤ºç»™å‡ºäº†ç»“æœã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ­£æ–‡&quot;&gt;æ­£æ–‡&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬å‡è®¾å­˜åœ¨è¿™ä¹ˆä¸€ä¸ªã€Œåœæœºç¨‹åºã€ï¼Œä¸ç®¡å®ƒæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿå›ç­”ã€Œåœæœºé—®é¢˜ã€ï¼šå®ƒæ¥å—ä¸€ä¸ªã€Œç¨‹åºã€å’Œä¸€ä¸ªã€Œè¾“å…¥ã€ï¼Œç„¶ååˆ¤æ–­è¿™ä¸ªã€Œç¨‹åºã€åœ¨è¿™ä¸ªã€Œè¾“å…¥ã€ä¸‹æ˜¯å¦èƒ½ç»™å‡ºç»“æœï¼š&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;is_halt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;program&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# è¿”å› True  å¦‚æœ program(input) ä¼šè¿”å›&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;# è¿”å› False å¦‚æœ program(input) ä¸è¿”å›&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡æŠŠä¸€ä¸ªå‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¾“å…¥æ¥æè¿°ä¸€ä¸ªã€Œç¨‹åºã€ä½œä¸ºå¦ä¸€ä¸ªã€Œç¨‹åºã€çš„ã€Œè¾“å…¥ã€ï¼Œå¦‚æœä½ ä¸ç†Ÿæ‚‰ã€Œå¤´ç­‰å‡½æ•°ã€çš„æ¦‚å¿µï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰æ–‡ä¸­çš„å‡½æ•°å¯¹åº”ä¸ºä¸€ä¸ªå…·å¤‡è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚ï¼‰&lt;/p&gt;

&lt;p&gt;ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£è¿™ä¸ªã€Œåœæœºç¨‹åºã€çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä½¿ç”¨å®ƒçš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;halt&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# å¦‚æœè¾“å…¥æ˜¯ 0ï¼Œè¿”å›ï¼Œå¦åˆ™æ— é™å¾ªç¯&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# è¿”å› True&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# è¿”å› False&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¯ä¸æ˜¯å¾ˆæ£’ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸è¿‡ï¼Œå¦‚æœè¿™ä¸ªã€Œåœæœºç¨‹åºã€çœŸçš„å­˜åœ¨ï¼Œé‚£ä¹ˆæˆ‘å°±å¯ä»¥å†™å‡ºè¿™ä¹ˆä¸€ä¸ªã€Œhack ç¨‹åºã€ï¼š&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;halt&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;program&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;program&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;program&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªç¨‹åºè¯´ï¼Œå¦‚æœä½  &lt;code class=&quot;highlighter-rouge&quot;&gt;is_halt&lt;/code&gt; å¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;program(program)&lt;/code&gt; åˆ¤åœäº†ï¼Œæˆ‘å°±æ— é™å¾ªç¯ï¼›å¦‚æœä½ åˆ¤å®ƒä¸åœï¼Œæˆ‘å°±ç«‹åˆ»è¿”å›ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬æŠŠã€Œhack ç¨‹åºã€åŒæ—¶å½“åšã€Œç¨‹åºã€å’Œã€Œè¾“å…¥ã€å–‚ç»™ã€Œåœæœºç¨‹åºã€ï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;is_halt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½ ä¼šå‘ç°ï¼Œå¦‚æœã€Œåœæœºç¨‹åºã€è®¤ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;hack(hack)&lt;/code&gt; ä¼šç»™å‡ºç»“æœï¼Œå³ &lt;code class=&quot;highlighter-rouge&quot;&gt;is_halt(hack, hack)&lt;/code&gt;) è¿”å› &lt;code class=&quot;highlighter-rouge&quot;&gt;True&lt;/code&gt;) ï¼Œé‚£ä¹ˆå®é™…ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;hack(hack)&lt;/code&gt; ä¼šè¿›å…¥æ— é™å¾ªç¯ã€‚è€Œå¦‚æœã€Œåœæœºç¨‹åºã€è®¤ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;hack(hack)&lt;/code&gt; ä¸ä¼šç»™å‡ºç»“æœï¼Œå³ &lt;code class=&quot;highlighter-rouge&quot;&gt;is_halt(hack, hack)&lt;/code&gt; è¿”å› ï¼Œé‚£ä¹ˆå®é™…ä¸Š &lt;code class=&quot;highlighter-rouge&quot;&gt;hack(hack)&lt;/code&gt; ä¼šç«‹åˆ»è¿”å›ç»“æœâ€¦â€¦&lt;/p&gt;

&lt;p&gt;è¿™é‡Œå°±å‡ºç°äº†çŸ›ç›¾å’Œæ‚–è®ºï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½è®¤ä¸ºï¼Œæˆ‘ä»¬æœ€å¼€å§‹çš„å‡è®¾æ˜¯é”™çš„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¿™ä¸ªã€Œåœæœºç¨‹åºã€æ˜¯ä¸å­˜åœ¨çš„ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&quot;æ„ä¹‰&quot;&gt;æ„ä¹‰&lt;/h2&gt;

&lt;p&gt;ç®€å•çš„è¯´ï¼Œã€Œåœæœºé—®é¢˜ã€è¯´æ˜äº†ç°ä»£è®¡ç®—æœºå¹¶ä¸æ˜¯æ— æ‰€ä¸èƒ½çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢çš„ä¾‹å­çœ‹ä¸Šå»æ˜¯åˆ»æ„ä½¿ç”¨ã€Œè‡ªæˆ‘æŒ‡æ¶‰ã€æ¥è¿›è¡Œåè¯çš„ï¼Œä½†è¿™åªæ˜¯ä¸ºäº†è¯æ˜æ–¹ä¾¿ã€‚å®é™…ä¸Šï¼Œç°å®ä¸­ä¸ã€Œåœæœºé—®é¢˜ã€ä¸€æ ·æ˜¯ç°ä»£è®¡ç®—æœºã€Œä¸å¯è§£ã€çš„é—®é¢˜è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æ‰€æœ‰ã€Œåˆ¤æ–­ä¸€ä¸ªç¨‹åºæ˜¯å¦ä¼šåœ¨æŸè¾“å…¥ä¸‹æ€ä¹ˆæ ·ï¼Ÿã€çš„ç®—æ³•ã€Hilbert ç¬¬åé—®é¢˜ç­‰ç­‰ï¼Œwikipedia ç”šè‡³æœ‰ä¸€ä¸ª &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/List_of_undecidable_problems&quot;&gt;List of undecidable problems&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ¼«è°ˆ&quot;&gt;æ¼«è°ˆ&lt;/h2&gt;

&lt;p&gt;å¦‚æœä½ è§‰å¾—åªæ˜¯çœ‹æ‡‚äº†è¿™ä¸ªåè¯æ³•æ²¡ä»€ä¹ˆæ„æ€ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æœ€åˆå›¾çµæå‡ºã€Œåœæœºé—®é¢˜ã€åªæ˜¯é’ˆå¯¹ã€Œå›¾çµæœºã€æœ¬èº«çš„ï¼Œä½†æ˜¯å…¶æ„ä¹‰å¯ä»¥è¢«æ¨å¹¿åˆ°æ‰€æœ‰ã€Œç®—æ³•ã€ã€ã€Œç¨‹åºã€ã€ã€Œç°ä»£è®¡ç®—æœºã€ç”šè‡³æ˜¯ã€Œé‡å­è®¡ç®—æœºã€ã€‚&lt;/li&gt;
  &lt;li&gt;å®é™…ä¸Šã€Œå›¾çµæœºã€åªèƒ½æ¥å—ï¼ˆçº¸å¸¦ä¸Šçš„ï¼‰å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥åœ¨å›¾çµæœºç¼–ç¨‹ä¸­ï¼Œæ— è®ºæ˜¯ã€Œè¾“å…¥ã€è¿˜æ˜¯å¦ä¸€ä¸ªã€Œå›¾çµæœºã€ï¼Œéƒ½æ˜¯é€šè¿‡ç¼–ç æ¥è¡¨ç¤ºçš„ã€‚&lt;/li&gt;
  &lt;li&gt;ã€Œå›¾çµæœºçš„è®¡ç®—èƒ½åŠ›å’Œç°ä»£è®¡ç®—æœºæ˜¯ç­‰ä»·çš„ã€ï¼Œæ›´ä¸¥è°¨ä¸€äº›ï¼Œç”±äºå›¾çµæœºä½œä¸ºä¸€ä¸ªå‡è±¡çš„è®¡ç®—æ¨¡å‹ï¼Œå…¶å‚¨å­˜ç©ºé—´æ˜¯æ— é™å¤§çš„ï¼Œè€ŒçœŸå®è®¡ç®—æœºåˆ™æœ‰ç¡¬ä»¶é™åˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½è¯´ã€Œä¸å­˜åœ¨æ¯”å›¾çµæœºè®¡ç®—èƒ½åŠ›æ›´å¼ºçš„çœŸå®è®¡ç®—æœºã€ã€‚&lt;/li&gt;
  &lt;li&gt;è¿™é‡Œçš„ã€Œè®¡ç®—èƒ½åŠ›ã€ï¼ˆpowerï¼‰æŒ‡çš„æ˜¯ã€Œèƒ½å¤Ÿè®¡ç®—æ€æ ·çš„é—®é¢˜ã€ï¼ˆcapablityï¼‰è€Œéã€Œè®¡ç®—æ•ˆç‡ã€ï¼ˆefficiencyï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬è¯´ã€Œä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ã€æ¯”ã€Œæ­£åˆ™è¡¨è¾¾å¼ã€çš„ã€Œè®¡ç®—èƒ½åŠ›ã€å¼ºå› ä¸ºå®ƒèƒ½è§£å†³æ›´å¤šçš„è®¡ç®—é—®é¢˜ã€‚&lt;/li&gt;
  &lt;li&gt;ã€Œå›¾çµæœºã€ä½œä¸ºä¸€ç§è®¡ç®—æ¨¡å‹å½¢å¼åŒ–äº†ã€Œä»€ä¹ˆæ˜¯ç®—æ³•ã€è¿™ä¸ªé—®é¢˜ï¼ˆ&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Church%25E2%2580%2593Turing_thesis&quot;&gt;é‚±å¥‡ï¼å›¾çµè®ºé¢˜&lt;/a&gt;ï¼‰ã€‚ä½†å›¾çµæœºå¹¶ä¸æ˜¯å”¯ä¸€çš„è®¡ç®—æ¨¡å‹ï¼Œå…¶ä»–è®¡ç®—æ¨¡å‹åŒ…æ‹¬ã€Œ&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Lambda_calculus&quot;&gt;Lambda ç®—å­&lt;/a&gt;ã€ã€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/%25CE%259C-recursive_function&quot;&gt;Î¼-é€’å½’å‡½æ•°&lt;/a&gt;ã€ç­‰ï¼Œå®ƒä»¬åœ¨è®¡ç®—èƒ½åŠ›ä¸Šéƒ½æ˜¯ä¸ã€Œå›¾çµæœºã€ç­‰ä»·çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ã€Œå›¾çµæœºã€æ¥è¯æ˜ã€Œ&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Computable_function&quot;&gt;å¯è®¡ç®—å‡½æ•°&lt;/a&gt;ã€çš„ä¸Šç•Œã€‚ä¹Ÿå› æ­¤å¯ä»¥è¯æ˜å“ªäº›è®¡ç®—é—®é¢˜æ˜¯è¶…å‡ºä¸Šç•Œçš„ï¼ˆå³ä¸å¯è§£çš„ï¼‰ã€‚&lt;/li&gt;
  &lt;li&gt;éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œåªæœ‰ã€Œå¯è®¡ç®—çš„ã€æ‰å«åšã€Œç®—æ³•ã€ã€‚&lt;/li&gt;
  &lt;li&gt;ã€Œåœæœºé—®é¢˜ã€å“åº”äº†ã€Œå“¥å¾·å°”çš„ä¸å®Œå¤‡æ€§å®šç†ã€ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;æ‹“å±•é˜…è¯»&quot;&gt;æ‹“å±•é˜…è¯»ï¼š&lt;/h2&gt;

&lt;p&gt;ä¸­æ–‡ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//www.matrix67.com/blog/archives/55&quot;&gt;Matrix67: ä¸å¯è§£é—®é¢˜(Undecidable Decision Problem)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//www.matrix67.com/blog/archives/901&quot;&gt;Matrix67: åœæœºé—®é¢˜ã€Chaitin å¸¸æ•°ä¸ä¸‡èƒ½è¯æ˜æ–¹æ³•&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//blog.csdn.net/pongba/article/details/1336028&quot;&gt;åˆ˜æœªé¹ï¼šåº·æ‰˜å°”ã€å“¥å¾·å°”ã€å›¾çµâ€“æ°¸æ’çš„é‡‘è‰²å¯¹è§’çº¿(rev#2) - CSDN åšå®¢&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//www.changhai.org/articles/science/mathematics/hilbert10/1.php&quot;&gt;å¢æ˜Œæµ·ï¼šHilbert ç¬¬åé—®é¢˜æ¼«è°ˆ (ä¸Š)&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è‹±æ–‡ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Introduction_to_the_Theory_of_Computation&quot;&gt;ã€ŠIntroduction to the Theory of Computationã€‹&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.youtube.com/watch%3Fv%3DdNRDvLACg5Q&quot;&gt;Turing Machines Explained - Computerphile&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.youtube.com/watch%3Fv%3DmacM_MtS_w4%26t%3D29s&quot;&gt;Turing &amp;amp; The Halting Problem - Computerphile&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cs.stackexchange.com/questions/32845/why-really-is-the-halting-problem-so-important&quot;&gt;Why, really, is the Halting Problem so important?&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 12 Dec 2017 00:00:00 +0800</pubDate>
        <link>http://localhost:4000/2017/12/12/halting-problem/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/12/12/halting-problem/</guid>
        
        <category>çŸ¥ä¹</category>
        
        <category>è®¡ç®—æœºç§‘å­¦</category>
        
        <category>è®¡ç®—ç†è®º</category>
        
        
      </item>
    
      <item>
        <title>ä»WordPressåˆ°é™æ€ç½‘ç«™</title>
        <description>&lt;p&gt;ä½œä¸ºä¸€ä¸ªæç®€ä¸»ä¹‰è€…ï¼Œè¶Šæ¥è¶Šå—ä¸äº†WordPressçš„è‡ƒè‚¿ã€‚ä¸»è¦è‡ªå·±å¹³æ—¶éƒ½æ˜¯ç”¨Markdownæ¥åšè®°å½•ï¼Œè€ŒWordPressæ”¯æŒçš„ä¸æ˜¯å¾ˆå¥½ï¼Œå¦å¤–æœ‰æ—¶å†™çš„mdé•¿æ–‡é€šè¿‡ä¸‰æ–¹è½¯ä»¶å¯¼å‡ºçš„htmlä¹Ÿä¸é€ æ”¾åœ¨wpçš„ä»€ä¹ˆåœ°æ–¹æ‰åˆé€‚ï¼Œç®¡ç†èµ·æ¥è¿˜ä¸å¦‚å‡ ä¸ªé™æ€é¡µé¢æ¥å¾—æ–¹ä¾¿ã€‚äºæ˜¯æœ‰äº†æŸå¤©æ¥ä¸ªå¤§æ•´é¡¿çš„æƒ³æ³•ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹å‰ç«¯åªåœç•™åœ¨cssçš„æˆ‘ï¼ŒèŠ±äº†æ•´ä¸‰å¤©æ—¶é—´ï¼Œä»Hexoåˆ°Jekyllå†åˆ°Bootstrapï¼Œä»¥åŠå„ç§markdown2htmlè§£æå™¨â€¦æœ€ååŸºæœ¬ç®—æ˜¯ä»å¤´å†™äº†ä¸€ä¸ªåŸºäºJekyllçš„website theme ğŸ˜“  åœ¨æ­¤è®°å½•äº†å„ç§å‰ç«¯å‘ï¼Œè‡ªè®¤ä¸ºè¿˜ç®—è¯¦ç»†å§ã€‚&lt;!-- more --&gt;&lt;/p&gt;

&lt;h1 id=&quot;hexo&quot;&gt;Hexo&lt;/h1&gt;

&lt;p&gt;ä¸»æµçš„é™æ€é¡µé¢ç”Ÿæˆå™¨æœ‰ä¿©ï¼Œä¸€ä¸ªJekyllï¼Œä¸€ä¸ªHexoï¼Œéƒ½æ”¯æŒMarkdownã€‚ å‰è€…ç”¨çš„æ˜¯Rubyï¼Œåè€…ä¸ºNode.jsã€‚&lt;/p&gt;

&lt;p&gt;Hexoä¼šæ¯”Jekyllæ­å»ºèµ·æ¥æ›´æ–¹ä¾¿ä¸€äº›ï¼Œè€Œä¸”å„ç§é…ç½®é¡¹çš„è®¾è®¡ä¹Ÿå¾ˆä¾¿æ·ï¼Œç½‘ç«™themesè¿˜å¾ˆä¸°å¯Œï¼Œæ‰€ä»¥æˆ‘ä¸€å¼€å§‹å¼„çš„å°±æ˜¯è¿™ä¸ªã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://hexo.io/zh-cn/docs/&quot;&gt;Hexoå®˜æ–¹æ–‡æ¡£&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/iissnan/hexo-theme-next&quot;&gt;next&lt;/a&gt; : ä¸€æ¬¾ä¼˜é›…å¹¶ä¸”åŠŸèƒ½å¼ºå¤§çš„ä¸»é¢˜. &lt;a href=&quot;http://theme-next.iissnan.com/getting-started.html&quot;&gt;[doc]&lt;/a&gt; &lt;a href=&quot;[http://notes.iissnan.com](http://notes.iissnan.com/)&quot;&gt;[demo]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ­å»ºæ–¹æ³•ä¸Šé¢è¿™ä¸¤ä¸ªé“¾æ¥å†™çš„å¾ˆè¯¦ç»†ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œä¸»è¦è®°å½•ä¸€ä¸‹è®©Hexoæ”¯æŒLaTexçš„æ³¨æ„åœ°æ–¹ã€‚Hexoç”¨MathJaxæ—¶ä¼šæœ‰ä¸€äº›&lt;a href=&quot;http://2wildkids.com/2016/10/06/%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Hexo%E5%92%8CMathJax%E7%9A%84%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/#&quot;&gt;è½¬ä¹‰é—®é¢˜&lt;/a&gt;ï¼Œç»æˆ‘è‡ªå·±æµ‹è¯•ï¼Œæœ€å¥½çš„æ–¹å¼æ˜¯ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;hexo-renderer-pandoc&lt;/code&gt;æ¸²æŸ“å™¨ä»£æ›¿åŸæœ‰çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;hexo-renderer-marked&lt;/code&gt;ã€‚è€Œç½‘ä¸Šè¯´çš„ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;hexo-renderer-kramed&lt;/code&gt;ï¼Œå¯¹çŸ©é˜µçš„æƒ…å†µæ˜¾ç¤ºçš„ä¸å¥½ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ npm uninstall hexo-renderer-marked --save
$ npm install hexo-renderer-kramed --save
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;jekyll&quot;&gt;Jekyll&lt;/h1&gt;

&lt;p&gt;å…¶å®ç”¨Hexo/Jekyll+ç°æˆçš„ä¸»é¢˜ï¼Œå¾ˆæ–¹ä¾¿å°±èƒ½æ­å‡ºä¸€ä¸ªé™æ€ç½‘ç«™å‡ºæ¥ã€‚åªæ˜¯é™¤äº†ä»£ç é«˜äº®ã€LaTexè¿™äº›åŠŸèƒ½ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³èƒ½åŒºåˆ†å‡ºcode block å’Œæ™®é€šæ— éœ€highlightingçš„&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;pre&amp;gt;&lt;/code&gt;éƒ¨åˆ†ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›æ”¹åŠ¨ã€‚å› ä¸ºmarkdownè§£æçš„åŸå› ï¼ŒåŸºæœ¬æ‰€æœ‰themeså‡ºçš„æ•ˆæœéƒ½æ˜¯å°†ä¸¤è€…ç»Ÿä¸€å¤„ç†äº†ã€‚å¼ºè¿«ç—‡ï¼ˆå…¶å®å°±æ˜¯zuoï¼‰ï¼Œä¸»é¢˜æŒ‘æ¥æŒ‘å»éƒ½æ²¡æ‰¾åˆ°ä¸ªåˆå¿ƒæ„çš„ï¼Œæ¯”å¦‚nextè¿™ç§ï¼Œå¤ªå¤æ‚ï¼Œè®©æˆ‘ä¸€ä¸ªå‰ç«¯ç™½ç—´æ”¹ï¼Œå“ˆï¼Œé‚£è¿˜æ˜¯è‡ªå·±ä»å¤´å†™ä¸€ä¸ªæ¯”è¾ƒç¬¦åˆç¨‹åºå‘˜é€ è½®å­çš„ä¹ æƒ¯å§ã€‚ã€‚ã€‚ï¼ˆæ‚è„¸&lt;/p&gt;

&lt;p&gt;ï¼ˆè‡³äºä¸ºå•¥ä»Hexoè½¬åˆ°äº†Jekyllï¼ŒåŸå› æœªæ˜ï¼‰&lt;/p&gt;

&lt;h2 id=&quot;get-started&quot;&gt;Get Started&lt;/h2&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://jekyllrb.com/docs/home/&quot;&gt;Jekyll Doc&lt;/a&gt; (&lt;a href=&quot;http://jekyll.com.cn/docs/home/&quot;&gt;ä¸­æ–‡ç‰ˆ&lt;/a&gt;ï¼Œå†…å®¹æ¯”è¾ƒæ—§)&lt;/p&gt;

&lt;h3 id=&quot;installation&quot;&gt;Installation&lt;/h3&gt;

&lt;p&gt;æœ¬æ¥åœ¨æœ¬åœ°ç”¨Homebrewå®‰è£…ä¸€è·¯é¡ºç•…ï¼Œä½†æ”¾åˆ°æœåŠ¡å™¨å°±å„ç§é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆç›´æ¥ç”¨apt-getä¸‹è½½çš„Rubyç‰ˆæœ¬æ¯”è¾ƒæ—§ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;# Install Ruby &amp;amp; RubyGems
$ sudo apt-add-repository ppa:brightbox/ruby-ng
$ sudo apt-get update
$ sudo apt-get install ruby2.4

# Install Jekyll and Bundler gems
$ sudo gem install jekyll bundler
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ç„¶ååœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;gem install jekyll&lt;/code&gt;æ—¶ä¼šæŠ¥é”™ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;error: could not find a valid gem (&amp;gt;= 0) in any repository
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å‚è€ƒ&lt;a href=&quot;https://github.com/jekyll/jekyll/issues/1409&quot;&gt;github issues&lt;/a&gt;ï¼ŒF*k GWFï¼Œéœ€è¦å°†&lt;code class=&quot;highlighter-rouge&quot;&gt;https://rubygems.org/&lt;/code&gt;æ¢æˆå…¶ä»–å¯è®¿é—®çš„é•œåƒï¼Œå¦‚&lt;a href=&quot;http://gems.ruby-china.org/&quot;&gt;Ruby China é•œåƒ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ gem sources --remove https://rubygems.org/
$ gem sources -a https://gems.ruby-china.org/
$ gem sources -l
*** CURRENT SOURCES ***
https://gems.ruby-china.org/   
# ç¡®ä¿åªæœ‰ gems.ruby-china.org
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é‡æ–°å°è¯• install jekyllï¼Œè¿˜æ˜¯æŠ¥é”™ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;current directory: /var/lib/gems/2.4.0/gems/ffi-1.9.18/ext/ffi_c
/usr/bin/ruby2.4 -r ./siteconf20170801-1836-1n75umz.rb extconf.rb
mkmf.rb can't find header files for ruby at /usr/lib/ruby/include/ruby.h
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è§£å†³æ–¹å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ sudo apt-get install ruby2.4-dev
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¹‹åå°±å¯ä»¥æ­£å¸¸å®‰è£…jekylläº†ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œæ ¹æ®&lt;a href=&quot;http://gems.ruby-china.org/&quot;&gt;Ruby China é•œåƒ&lt;/a&gt;ï¼Œä½ å¯ä»¥ç”¨ Bundler çš„ &lt;a href=&quot;http://bundler.io/v1.5/bundle_config.html#gem-source-mirrors&quot;&gt;Gem æºä»£ç é•œåƒå‘½ä»¤&lt;/a&gt;ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ bundle config mirror.https://rubygems.org https://gems.ruby-china.org
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ ·å°±ä¸ç”¨æ”¹ä½ çš„ Gemfile ä¸­çš„ sourceäº†ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;source &quot;https://rubygems.org&quot;
...
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;basic-command&quot;&gt;Basic Command&lt;/h3&gt;

&lt;p&gt;ç”¨jekyllæ–°å»ºä¸€ä¸ªsite:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ jekyll new myblog
$ cd myblog
$ bundle exec jekyll serve
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰“å¼€http://localhost:4000æµ‹è¯•ã€‚&lt;/p&gt;

&lt;p&gt;é»˜è®¤ä½¿ç”¨çš„æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;Minima theme&lt;/code&gt;. ç›®å‰åŸºäºjekyll 3.xçš„themesè¿˜æ¯”è¾ƒå°‘ã€‚
å› ä¸ºæˆ‘æ˜¯è‡ªå·±æ–°å»ºçš„themeï¼Œå°±ä¸ç”¨è¿™æ ·æ–¹å¼äº†ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;å¯åŠ¨æœåŠ¡ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;# å¯åŠ¨æœåŠ¡
$ jekyll serve

# å¯åŠ¨æœåŠ¡(gem-based theme)
$ bundle exec jekyll serve

# è„±ç¦»ç»ˆç«¯åœ¨åå°è¿è¡Œ
# å¦‚æœä½ æƒ³å…³é—­æœåŠ¡å™¨ï¼Œå¯ä»¥ä½¿ç”¨`kill -9 1234`å‘½ä»¤ï¼Œ&quot;1234&quot; æ˜¯è¿›ç¨‹å·ï¼ˆPIDï¼‰ã€‚
# å¦‚æœä½ æ‰¾ä¸åˆ°è¿›ç¨‹å·ï¼Œé‚£ä¹ˆå°±ç”¨`ps aux | grep jekyll`å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œç„¶åå…³é—­æœåŠ¡å™¨ã€‚
$ jekyll serve --detach

# å’Œjekyll serveç›¸åŒï¼Œä½†æ˜¯ä¼šæŸ¥çœ‹å˜æ›´å¹¶ä¸”è‡ªåŠ¨å†ç”Ÿæˆã€‚
$ jekyll serve --watch
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”Ÿæˆé™æ€é¡µé¢ï¼ˆä½äº&lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;ç›®å½•ï¼‰ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ jekyll build
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…ç”¨ï¼š(watched for changes, and regenerated automatically.)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ jekyll build --watch
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;set-up-your-site-on-vps&quot;&gt;Set up Your Site on VPS&lt;/h1&gt;

&lt;p&gt;ç½‘ä¸Šæ¸…ä¸€è‰²éƒ½æ˜¯é€šè¿‡github pagesæ¥å‘å¸ƒçš„ç«™ç‚¹ï¼Œç„¶åé€šè¿‡ä¿®æ”¹&lt;code class=&quot;highlighter-rouge&quot;&gt;CNAME&lt;/code&gt;æ–‡ä»¶æ¥è¾¾åˆ°ç»‘å®šåŸŸåçš„ç›®çš„ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡Œæ˜¯æ”¾åˆ°VPSä¸Šï¼Œéœ€è¦è‡ªå·±æ­å»ºweb serverç¯å¢ƒã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jekyll is a static site generator, not a webserver. You may generate the static files and serve with webserver like &lt;code class=&quot;highlighter-rouge&quot;&gt;nginx&lt;/code&gt;, which provides such abilities.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-get-started-with-jekyll-on-an-ubuntu-vps&quot;&gt;How To Get Started with Jekyll on an Ubuntu VPS&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://thomasroest.com/2016/11/05/set-up-a-jekyll-site-on-a-vps-with-ubuntu-nginx-and-letsencrypt.html&quot;&gt;Set up a Jekyll site on a vps with Ubuntu, Nginx and Letsencrypt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å› ä¸ºæ˜¯é™æ€ç½‘ç«™ï¼Œæ‰€ä»¥Jekyllå…¶å®å®‰è£…åœ¨æœ¬åœ°å°±å¯ä»¥ï¼Œé™æ€é¡µé¢ä¹Ÿæ”¾åœ¨æœ¬åœ°ã€‚ç„¶åå°†Jekyllç”Ÿæˆçš„é™æ€HTMLæ–‡ä»¶ï¼ˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;ç›®å½•ä¸‹ï¼‰é€šè¿‡ç±»ä¼¼FTPçš„æ–¹å¼ä¸Šä¼ åˆ°VPSå°±è¡Œã€‚&lt;/p&gt;

&lt;p&gt;å°†æœ¬åœ°æ•°æ®ä¸Šä¼ åˆ°è¿œç¨‹æœåŠ¡ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;scp&lt;/code&gt;å°±è¡Œï¼Œåæ¥äº†è§£åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;rsync&lt;/code&gt;è¿™ä¸ªå‘½ä»¤ã€‚&lt;code class=&quot;highlighter-rouge&quot;&gt;rsync&lt;/code&gt;åªä¼ é€ä¸¤ä¸ªæ–‡ä»¶çš„ä¸åŒéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½æ•´ä»½ä¼ é€ï¼Œå› æ­¤é€Ÿåº¦å¾ˆå¿«ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆæ¥ç†æ¸…å…³ç³»ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll&lt;/a&gt; for write our content&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://nginx.org/en/&quot;&gt;nginx&lt;/a&gt; to serve our content&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.capistranorb.com/&quot;&gt;Capistrano&lt;/a&gt; to deploy&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;nginx&quot;&gt;Nginx&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;sudo apt-get install nginx
sudo service nginx start
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åè¾“å…¥vpsåœ°å€å°±èƒ½çœ‹åˆ°nginxçš„æ¬¢è¿é¡µé¢ã€‚&lt;/p&gt;

&lt;p&gt;æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;sudo service nginx status
# æ˜¾ç¤ºï¼š
- nginx is running
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¿®æ”¹ nginx é…ç½®ï¼šsudo vim /etc/nginx/sites-enabled/default&lt;/p&gt;

&lt;p&gt;å°† &lt;code class=&quot;highlighter-rouge&quot;&gt;root /usr/share/nginx/html;&lt;/code&gt; æ³¨é‡Šæ‰ï¼Œæ”¹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;root /home/deploy/your_blog_name/_site&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å°† &lt;code class=&quot;highlighter-rouge&quot;&gt;server_name localhost;&lt;/code&gt; æ³¨é‡Šæ‰ï¼Œæ”¹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;server_name your_domain.com;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é‡æ–°å¯åŠ¨nginxï¼Œå°±èƒ½çœ‹åˆ°å»ºçš„blogå†…å®¹äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;capistrano&quot;&gt;Capistrano&lt;/h2&gt;

&lt;p&gt;Capistrano æ˜¯ä¸€ä¸ª Ruby ç¨‹åºï¼Œå‚è€ƒç¬¬ä¸€ä¸ªæ–‡ç« é“¾æ¥ï¼Œå®ƒå¯ä»¥é€šè¿‡Gitå¤åˆ¶ä»£ç åˆ°æœåŠ¡å™¨ç­‰æ“ä½œã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;sudo gem install capistrano 
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œå…ˆå­˜ç•™å§ï¼Œæš‚æ—¶è¿˜æ²¡ç”¨åˆ°Capistranoã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰æ˜¯æŒ‰ç…§&lt;a href=&quot;http://blog.lszero.com/coding4fun/multisite-setting.html&quot;&gt;åˆ©ç”¨Apacheè¿›è¡Œå¤šç«™ç‚¹é…ç½®&lt;/a&gt;è®¾ç½®çš„ã€‚&lt;/p&gt;

&lt;h1 id=&quot;create-new-theme-from-scratch&quot;&gt;Create New Theme From Scratch&lt;/h1&gt;

&lt;p&gt;æ—¢ç„¶æ˜¯from scratchï¼Œå°±å…ˆæŠŠjekyllçš„ç›®å½•ç»“æ„ç†æ¸…ï¼Œç„¶åå€ŸåŠ©bootstrapæ¡†æ¶åˆ›å»ºä¸»é¢˜ï¼Œæœ€åå°±æ˜¯å„ç§featuresäº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;basic&quot;&gt;Basic&lt;/h2&gt;

&lt;h3 id=&quot;directory-structure&quot;&gt;Directory Structure&lt;/h3&gt;

&lt;p&gt;ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll new-theme xxx&lt;/code&gt;å‘½ä»¤ï¼Œå°±å¯ä»¥åˆ›å»ºå‡ºä¸€ä¸ªthemeéœ€è¦çš„åŸºæœ¬ç›®å½•é¡¹ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;.
â”œâ”€â”€ _config.yml
â”œâ”€â”€ _drafts
|   â”œâ”€â”€ begin-with-the-crazy-ideas.textile
|   â””â”€â”€ on-simplicity-in-technology.markdown
â”œâ”€â”€ _includes
|   â”œâ”€â”€ footer.html
|   â””â”€â”€ header.html
â”œâ”€â”€ _layouts
|   â”œâ”€â”€ default.html
|   â”œâ”€â”€ post.html
â”œâ”€â”€ _posts
|   â”œâ”€â”€ 2007-10-29-why-every-programmer-should-play-nethack.textile
|   â””â”€â”€ 2009-04-26-barcamp-boston-4-roundup.textile
â”œâ”€â”€ _data
|   â””â”€â”€ members.yml
â”œâ”€â”€ _site
â””â”€â”€ index.html
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; æ˜¯é…ç½®æ–‡ä»¶ã€‚é»˜è®¤é…ç½®å‚è§ï¼š&lt;a href=&quot;https://jekyllrb.com/docs/configuration/#default-configuration&quot;&gt;https://jekyllrb.com/docs/configuration/#default-configuration&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_includes&lt;/code&gt; é‡Œçš„æ–‡ä»¶ä¸ºäº†å¸ƒå±€é‡ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts&lt;/code&gt; ç«™ç‚¹å¸ƒå±€æ¨¡æ¿ã€‚å¸ƒå±€å¯ä»¥åœ¨ &lt;a href=&quot;http://jekyll.com.cn/docs/frontmatter/&quot;&gt;YAML å¤´ä¿¡æ¯&lt;/a&gt;ä¸­æ ¹æ®ä¸åŒæ–‡ç« è¿›è¡Œé€‰æ‹©ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; å°†mdæ–‡ä»¶ä»¥&lt;code class=&quot;highlighter-rouge&quot;&gt;2017-08-01-welcome-to-jekyll.md&lt;/code&gt;çš„æ ¼å¼æ”¾åˆ°è¯¥ç›®å½•ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_drafts&lt;/code&gt; ä¸­çš„mdæ–‡ä»¶ç›´æ¥ä»¥&lt;code class=&quot;highlighter-rouge&quot;&gt;title.md&lt;/code&gt;å‘½åï¼Œå¹¶ä¸ä¼šå‘å¸ƒå‡ºæ¥ã€‚å½“è¿è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;æˆ–è€…&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll build --drafts&lt;/code&gt;æ—¶ï¼Œè‰ç¨¿æ–‡ç« ä¼šè¢«åŠ ä¸Šæ—¥æœŸå€¼å¹¶å‘å¸ƒå‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; å­˜æ”¾jekyllè½¬åŒ–å®Œæˆçš„htmlæ–‡ä»¶ã€‚æœ‰æ—¶ä¿®æ”¹æ•ˆæœä¸ç”Ÿæ•ˆï¼Œå¯ä»¥å°è¯•åˆ é™¤è¯¥ç›®å½•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;variables&quot;&gt;Variables&lt;/h3&gt;

&lt;p&gt;è‡ªå¸¦çš„å˜é‡è¯¦è§ï¼š&lt;a href=&quot;http://jekyllrb.com/docs/variables/&quot;&gt;Variables&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æˆ–è€…é€šè¿‡&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;æ·»åŠ ã€‚&lt;/p&gt;

&lt;h3 id=&quot;need-to-know&quot;&gt;Need to Know&lt;/h3&gt;

&lt;p&gt;è‹¥åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;çš„YAMLå¤´ä¿¡æ¯ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;---
layout: default
...
---
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ™åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt;ä¸­è°ƒç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;{{ content }}&lt;/code&gt;æ—¶ï¼Œå°±ä¼šæŠŠ&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;ä¸­çš„æ‰€æœ‰å†…å®¹æ”¾åˆ°è°ƒç”¨å¤„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;bootstrap&quot;&gt;Bootstrap&lt;/h2&gt;

&lt;p&gt;Bootstrapå‰ç«¯æ¡†æ¶çœŸæ˜¯æˆ‘è¿™ç§å‰ç«¯ç™½ç—´çš„ç¦éŸ³ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹è½½&lt;a href=&quot;https://github.com/twbs/bootstrap/releases/download/v3.3.7/bootstrap-3.3.7-dist.zip&quot;&gt;Bootstrp&lt;/a&gt;ï¼Œæˆ‘è¿™é‡Œå°†è§£å‹åçš„æ–‡ä»¶æ”¾åˆ°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;assets/bootstrap-3.3.7-dist&lt;/code&gt; ç›®å½•ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨Bootstrapï¼š&lt;/p&gt;

&lt;p&gt;å‚è€ƒBootstrapå®˜ç½‘é‡Œç»™çš„&lt;a href=&quot;http://getbootstrap.com/getting-started/#template&quot;&gt;åŸºæœ¬HTMLæ¨¡æ¿&lt;/a&gt;ï¼Œ&lt;/p&gt;

&lt;p&gt;ï¼ˆ1ï¼‰å°†ä¸‹é¢è¿™è¡Œä»£ç æ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;head.html&lt;/code&gt; çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;head&amp;gt;&amp;lt;/head&amp;gt;&lt;/code&gt; æ ‡ç­¾ä¸­ã€‚&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Bootstrap --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/assets/bootstrap-3.3.7-dist/css/bootstrap.min.css&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆ2ï¼‰å°†ä¸‹ä¸¤è¡Œæ”¹æˆè‡ªå·±çš„ç›¸åº”è·¯å¾„åï¼Œæ”¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt; çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;&lt;/code&gt; æ ‡ç­¾ä¸­çš„æœ€ä¸‹æ–¹ï¼Œä¸ºäº†æœ€ååŠ è½½ã€‚&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- jQuery (necessary for Bootstrap's JavaScript plugins) --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Include all compiled plugins (below), or include individual files as needed --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/assets/bootstrap-3.3.7-dist/js/bootstrap.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‹¥æ²¡æ•ˆæœï¼Œåˆ é™¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; ç›®å½•å†è¯•è¯•ï¼Œæˆ–è€…ç”¨å‘½ä»¤é‡æ–° buildã€‚&lt;/p&gt;

&lt;h3 id=&quot;navbar&quot;&gt;NavBar&lt;/h3&gt;

&lt;p&gt;å‚è€ƒBootstrapå®˜ç½‘ç»™çš„&lt;a href=&quot;http://getbootstrap.com/components/#navbar&quot;&gt;ç¤ºä¾‹ä»£ç &lt;/a&gt;ï¼Œå†™å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;header.html&lt;/code&gt;æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶ååœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt;çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&amp;lt;/body&amp;gt;&lt;/code&gt;æ ‡ç­¾ä¸­å¼•å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;{% include header.html %}&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„çš„ç‚¹æ˜¯ï¼Œ&lt;/p&gt;

&lt;p&gt;è‹¥ä½¿ç”¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;.navbar-fixed-top&lt;/code&gt; ç±»ï¼Œè¿™ä¸ªå›ºå®šçš„å¯¼èˆªæ¡ä¼šé®ä½é¡µé¢ä¸Šçš„å…¶å®ƒå†…å®¹ï¼Œé™¤éä½ ç»™ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;body&amp;gt;&lt;/code&gt; å…ƒç´ åº•éƒ¨è®¾ç½®äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;padding&lt;/code&gt;ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;body { padding-top: 70px; }
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;features&quot;&gt;Features&lt;/h2&gt;

&lt;h3 id=&quot;post-excerpt&quot;&gt;Post Excerpt&lt;/h3&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; ä¸­æ˜¾ç¤ºæ–‡ç« æ‘˜è¦ã€‚å‚è§&lt;a href=&quot;https://jekyllrb.com/docs/posts/#post-excerpts&quot;&gt;https://jekyllrb.com/docs/posts/#post-excerpts&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆ1ï¼‰è‡ªå¸¦çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;{{ post.excerpt }}&lt;/code&gt; ä¼šè‡ªåŠ¨å–ç¬¬ä¸€æ®µçš„å†…å®¹ä½œä¸ºæ‘˜è¦ã€‚&lt;/p&gt;

&lt;p&gt;è‹¥æƒ³è‡ªå®šä¹‰ï¼Œ&lt;/p&gt;

&lt;p&gt;ï¼ˆ2ï¼‰åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt; æ–‡ä»¶ä¸­æŒ‡å®šæ‘˜è¦çš„åˆ†éš”ç¬¦ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;excerpt_separator: &amp;lt;!-- more --&amp;gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ ·ä¼šè¦†ç›–è‡ªå¸¦çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;{{ post.excerpt }}&lt;/code&gt;åŠŸèƒ½ï¼Œç„¶ååœ¨æ–‡ç« å†…å®¹éœ€è¦åˆ†éš”çš„æ‘˜è¦åé¢åŠ ä¸Š&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;!-- more --&amp;gt;&lt;/code&gt;ã€‚è€Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;!-- more --&amp;gt;&lt;/code&gt; æœ¬èº«ä½œä¸ºæ³¨é‡Šï¼Œä¸ä¼šå½±å“ markdown çš„æ˜¾ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆ3ï¼‰æˆ–è€…é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{{ post.content | strip_html | truncatewords:75 }}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;pagination&quot;&gt;Pagination&lt;/h3&gt;

&lt;p&gt;ç”¨äº&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt; é‡Œå¯¹æ–‡ç« çš„åˆ†é¡µæ˜¾ç¤ºåŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆ1ï¼‰é¦–å…ˆå®‰è£…&lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-paginate&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ sudo gem install jekyll-paginate
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨é…ç½®æ–‡ä»¶&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;ä¸­æ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;plugins:
  - jekyll-paginate
paginate: 5
paginate_path: &quot;/pages:num/&quot;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;paginate: 5&lt;/code&gt; è®¾ç½®çš„æ˜¯åˆ†é¡µæ•°ï¼›
&lt;code class=&quot;highlighter-rouge&quot;&gt;paginate_path: &quot;/pages:num/&quot;&lt;/code&gt; è®¾ç½®çš„æ˜¯URLçš„æ˜¾ç¤ºæ ¼å¼ï¼Œå¦‚ http://localhost:4000/pages2/ã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆ2ï¼‰ç„¶åå‚è€ƒ&lt;a href=&quot;https://jekyllrb.com/docs/pagination/&quot;&gt;https://jekyllrb.com/docs/pagination/&lt;/a&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;æ·»åŠ åˆ†é¡µåŠŸèƒ½ï¼Œå¹¶ç»“åˆBootstrapé‡Œçš„åˆ†é¡µæ ·å¼ä¿®æ”¹ï¼š&lt;a href=&quot;http://getbootstrap.com/components/#pagination&quot;&gt;http://getbootstrap.com/components/#pagination&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;sidebar&quot;&gt;SideBar&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œåˆ©ç”¨äº† bootstrap çš„æ …æ ¼å¸ƒå±€ï¼Œæ …æ ¼å¸ƒå±€å°†ä¸€ä¸ªé¡µé¢åˆ†å‰²æˆ12ä¸ªç­‰å®½çš„åˆ—ã€‚(è¯¦è§ &lt;a href=&quot;http://getbootstrap.com/css/#grid-example-basic&quot;&gt;example&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;row-fluid&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-9&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;Content&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;col-md-3&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;Sidebar&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;  
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è®©ä¾§è¾¹æ å›ºå®šä½ï¼Œä¸éšé¡µé¢æ»šåŠ¨è€Œæ»šåŠ¨ï¼šåŠ å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;class=&quot;affix&quot;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;strong&gt;è¯´æ˜ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡Œè®¾ç½®ä¸¤ç§sidebarï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä¸€ç§æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;é‡Œçš„ï¼Œç”¨äºæ˜¾ç¤ºauthorä¿¡æ¯ï¼Œå†™åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;main_sidebar.html&lt;/code&gt;ä¸­ï¼›&lt;/li&gt;
  &lt;li&gt;å¦ä¸€ç§æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;post&lt;/code&gt;å¯¹åº”çš„ï¼Œç”¨äºæ˜¾ç¤ºç›®å½•åˆ—è¡¨ï¼Œå†™åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;post_sidebar.html&lt;/code&gt;ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;social-icons&quot;&gt;Social Icons&lt;/h3&gt;

&lt;p&gt;iconsç”¨çš„æ˜¯ &lt;a href=&quot;http://fontawesome.io/&quot;&gt;fontawesome&lt;/a&gt;ã€‚æˆ‘è¿™é‡Œå°†è§£å‹åçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;fonts&lt;/code&gt;å’Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;css&lt;/code&gt;æ–‡ä»¶å¤¹å¤åˆ¶åˆ°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;assets&lt;/code&gt;ç›®å½•ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;head.html&lt;/code&gt;ä¸­æ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/assets/css/font-awesome.min.css&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¦ä½¿ç”¨å“ªä¸ªå›¾æ ‡ï¼Œç›´æ¥å»&lt;a href=&quot;http://fontawesome.io/icons/&quot;&gt;å®˜ç½‘&lt;/a&gt;æœä»£ç å°±è¡Œã€‚&lt;/p&gt;

&lt;p&gt;ä¿®æ”¹å›¾æ ‡é¢œè‰²ï¼Œå› ä¸ºå…¶æœ¬èº«å°±æ˜¯ä¸€ç§å­—ä½“ï¼Œæ•…ä½¿ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;color &lt;/code&gt;ä¿®æ”¹å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;ä¿®æ”¹å›¾æ ‡å¤§å°ä¹Ÿæ˜¯ï¼Œç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;font-size&lt;/code&gt;å³å¯ï¼Œæˆ–è€…ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;i&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa fa-camera-retro&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;i&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa fa-camera-retro fa-2x&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;i&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa fa-camera-retro fa-3x&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/i&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹å®˜ç½‘æœä¸åˆ°çš„ç¤¾äº¤ç½‘ç«™å›¾æ ‡æ€ä¹ˆåŠï¼Œå¦‚â€œçŸ¥ä¹â€çš„ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Zhihu&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa-stack fa-lg&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;i&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa fa-circle fa-stack-2x&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/i&amp;gt;&amp;lt;i&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;fa fa-stack-1x fa-inverse&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;çŸ¥&lt;span class=&quot;nt&quot;&gt;&amp;lt;/i&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;table-of-content&quot;&gt;Table of Content&lt;/h3&gt;

&lt;h4 id=&quot;postä¸­æ˜¾ç¤ºç›®å½•&quot;&gt;postä¸­æ˜¾ç¤ºç›®å½•&lt;/h4&gt;

&lt;p&gt;kramdownè‡ªå¸¦äº†è§£æç›®å½•çš„åŠŸèƒ½ã€‚è¯¦è§ï¼š&lt;a href=&quot;https://kramdown.gettalong.org/converter/html.html#toc&quot;&gt;https://kramdown.gettalong.org/converter/html.html#toc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;åœ¨mdæ–‡ä»¶ä¸­åŠ å…¥ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;# æ— åºåˆ—è¡¨
* TOC
{:toc}
{: .this-is-my-class}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;# æœ‰åºåˆ—è¡¨
1. TOC
{:toc}
{: .this-is-my-class}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¹¶ä¸”å¯åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;ä¸­è®¾ç½®è¦æ˜¾ç¤ºçš„æ ‡é¢˜çº§åˆ«ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;kramdown: 
  toc_levels: &quot;2,3&quot; 
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h4 id=&quot;sidebarä¸­æ˜¾ç¤ºç›®å½•&quot;&gt;sidebarä¸­æ˜¾ç¤ºç›®å½•&lt;/h4&gt;

&lt;p&gt;ä¾§è¾¹æ ç›®å½•éšæµè§ˆå†…å®¹åŠ¨æ€æ»šåŠ¨åŠŸèƒ½ï¼Œåˆ©ç”¨Bootstrapçš„&lt;a href=&quot;http://getbootstrap.com/javascript/#scrollspy&quot;&gt;Scrollspy&lt;/a&gt;æ¥å®ç°ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å‚è€ƒ &lt;a href=&quot;http://www.thomaszhao.cn/2015/01/08/how-do-i-build-this-jekyll-blog/#toctable-of-content-&quot;&gt;application.js&lt;/a&gt; è·å–ç›®å½•ç»“æ„ï¼Œå’Œæ ‡é¢˜æ»šåŠ¨æ•ˆæœã€‚&lt;/li&gt;
  &lt;li&gt;å‚è€ƒ &lt;a href=&quot;https://www.mywpku.com/jquery-pin-elements.html&quot;&gt;JQUERYå®ç°ä¾§è¾¹æ éšæ»šåŠ¨æ¡æ»šåŠ¨å¹¶å›ºå®šä½ç½®&lt;/a&gt; æ¥å›ºå®šsidebarçš„ä½ç½®ï¼Œå¹¶ä¸”æ•ˆæœæ˜¯ï¼šå½“æ»šåŠ¨åˆ°æŒ‡å®šæ¨¡å—æ—¶æ‰ç½®é¡¶è¯¥æ¨¡å—ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æœ€åå†™äº†ä¸ª &lt;a href=&quot;https://github.com/lszero/lszero.github.io/blob/master/assets/js/toc/TOC.js&quot;&gt;TOP.js&lt;/a&gt; ç»ˆäºå®ç°å¾—è¿˜ç®—æ»¡æ„äº†ã€‚ï¼ˆå½“ç„¶ï¼Œè¿˜è¦é…åˆ css ä½¿ç”¨ï¼‰&lt;/p&gt;

&lt;p&gt;å¦å¤–ï¼Œå…¶å®ƒä¸é”™çš„å®ç°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://afeld.github.io/bootstrap-toc/&quot;&gt;bootstrap-toc&lt;/a&gt; (&lt;a href=&quot;https://github.com/afeld/bootstrap-toc/tree/gh-pages/dist&quot;&gt;github&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://gregfranko.com/jquery.tocify.js/&quot;&gt;Tocify plugin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://projects.jga.me/toc/&quot;&gt;TOC plugin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;hide-sidebar-for-mobile-display&quot;&gt;Hide sidebar for mobile display&lt;/h4&gt;

&lt;p&gt;æ‰‹æœºæ˜¾ç¤ºæ—¶ï¼Œéšè—ä¾§è¾¹æ ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºæ··ä¹±ã€‚&lt;/p&gt;

&lt;div class=&quot;language-css highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;@media&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max-width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;800px&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;#sidebar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nl&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;none&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;!important&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;search&quot;&gt;Search&lt;/h3&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;http://getbootstrap.com/components/#input-groups-buttons&quot;&gt;Button addons&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://getbootstrap.com/components/#navbar-forms&quot;&gt;Forms&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å°†ä¸‹é¢ä»£ç åŠ å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;header.html&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;navbar-form navbar-left&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;role=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;search&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;div&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;input-group&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;span&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;input-group-btn&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;&amp;lt;button&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;btn btn-default&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;button&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Go!&lt;span class=&quot;nt&quot;&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;form-control&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;placeholder=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Search&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹äºsearché€»è¾‘ï¼Œç›®å‰è¿˜æ²¡æ‰¾åˆ°ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼å»å®ç°ã€‚ã€‚ã€‚ï¼ˆå¦‚æœçŸ¥é“çš„ï¼Œéº»çƒ¦å‘Šè¯‰æˆ‘ä¸€å£°ï¼ï¼‰&lt;/p&gt;

&lt;h3 id=&quot;back-to-top&quot;&gt;Back to Top&lt;/h3&gt;

&lt;p&gt;è¯¥åŠŸèƒ½æˆ‘æ”¾åœ¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;post_sidebar.html&lt;/code&gt;ä¸­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;#top&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;back-to-top&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;^&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®å°±æ˜¯ä¸ªlinkï¼Œæœ€åå†ç”¨cssè®¾ç½®æ ·å¼ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æ›´æ–°ï¼š&lt;/p&gt;

&lt;p&gt;ä¸ºäº†ä¸è®©footerè¦†ç›–æ‰ back-to-topï¼Œåªèƒ½æŠŠback-to-topå†™åœ¨footeråé¢ã€‚æ•…æ”¹åœ¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;default.html&lt;/code&gt;é‡Œã€‚&lt;/p&gt;

&lt;h3 id=&quot;comments&quot;&gt;Comments&lt;/h3&gt;

&lt;h4 id=&quot;gitment&quot;&gt;Gitment&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;https://imsun.net/posts/gitment-introduction/&quot;&gt;Gitment&lt;/a&gt; æŒºä¸é”™çš„çš„ã€‚æŒ‰ç…§å®˜ç½‘çš„è¯´æ˜å¼•å…¥jsåï¼Œåœ¨å…¶ä¸­ä¿®æ”¹è‡ªå·±çš„OAuth Applicationä¿¡æ¯ã€‚&lt;/p&gt;

&lt;h4 id=&quot;isso&quot;&gt;isso&lt;/h4&gt;

&lt;p&gt;è¿™æ˜¯è‡ªå»ºè¯„è®ºç³»ç»Ÿçš„ä¸€ç§æ–¹å¼ã€‚&lt;a href=&quot;https://posativ.org/isso/&quot;&gt;å®˜ç½‘&lt;/a&gt;éœ€è¦fq.&lt;/p&gt;

&lt;p&gt;æˆ‘ä¹‹åç”¨çš„ä¹Ÿæ˜¯è¿™ç§æ–¹æ³•ï¼Œè¯¦è§ï¼š&lt;a href=&quot;http://blog.lszero.com/coding4fun/comments-with-isso.html&quot;&gt;æ­å»ºIssoè¯„è®ºæœåŠ¡&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;archives&quot;&gt;Archives&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{% for post in paginator.posts %}&lt;/code&gt; å¹¶ä¸èƒ½ä½¿ç”¨ï¼Œå› ä¸ºpaginatoråªä¼šå¯¹&lt;code class=&quot;highlighter-rouge&quot;&gt;index.html&lt;/code&gt;æœ‰æ•ˆã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;site.posts | size&lt;/code&gt; è·å–æ€»çš„æ–‡ç« æ•°ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºjekyllä¸æ”¯æŒæŒ‰æ—¥æœŸè·å–ï¼Œåªèƒ½æš‚æ—¶ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;{% for post in site.posts %}&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™éƒ¨åˆ†å¾…è¡¥å……å§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;category&quot;&gt;Category&lt;/h3&gt;

&lt;p&gt;å‚è€ƒ &lt;a href=&quot;https://segmentfault.com/a/1190000000406017#articleHeader2&quot;&gt;ä½¿ç”¨Categoryåˆ†ç±»&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆåœ¨æ¯ä¸ªæ–‡ç« çš„YAMLå¤´ä¿¡æ¯ä¸­å®šä¹‰ç±»åˆ«ï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;---
layout: post
title:  &quot;your title&quot;
categories: Algorithm
---
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;è·å–æ‰€æœ‰ç±»åˆ«ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{% for category in site.categories %}
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;h2&amp;gt;&lt;/span&gt;{{ category[0] }} ({{ category[1].size }})&lt;span class=&quot;nt&quot;&gt;&amp;lt;/h2&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;ul&amp;gt;&lt;/span&gt;
  {% for post in category[1] %}
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt;{{ post.date | date:&quot;%d/%m/%Y&quot;}}&lt;span class=&quot;nt&quot;&gt;&amp;lt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{{ post.url }}&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;{{ post.title }}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  {% endfor %}
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
{% endfor %}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;site.categories.size&lt;/code&gt; è·å–æ€»çš„ç±»åˆ«æ•°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;category[0]&lt;/code&gt; è·å–åˆ†ç±»åç§°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;category[1].size&lt;/code&gt; è·å–è¯¥åˆ†ç±»ä¸‹æ–‡ç« çš„æ•°ç›®ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;site.categories.CATEGORY&lt;/code&gt; å¯å¾—åˆ°æŸä¸ªç‰¹å®šç±»åˆ«çš„æ‰€æœ‰æ–‡ç« ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ›´å¤šå˜é‡å¯å‚è§ï¼š&lt;a href=&quot;http://jekyllrb.com/docs/variables/#site-variables&quot;&gt;http://jekyllrb.com/docs/variables/#site-variables&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;è¾“å‡ºå•ä¸ªåˆ†ç±»ä¸‹çš„æ‰€æœ‰æ–‡ç« ï¼š&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;site.categories.CATEGORY&lt;/code&gt; éœ€è¦æ‰‹åŠ¨æŒ‡å®šï¼Œå¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://segmentfault.com/a/1190000000406017#articleHeader2&quot;&gt;ä½¿ç”¨Categoryåˆ†ç±»&lt;/a&gt;è¿™ç¯‡æ–‡ç« é‡Œä½¿ç”¨jsæ¥å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡Œæ˜¯å…ˆç”Ÿæˆå¥½&lt;code class=&quot;highlighter-rouge&quot;&gt;categories.html&lt;/code&gt;ï¼Œé‡Œé¢åˆ—å‡ºäº†æ‰€æœ‰çš„æ–‡ç« ã€‚ç„¶ååˆ©ç”¨é”šç‚¹&lt;code class=&quot;highlighter-rouge&quot;&gt;categories.html#xxx&lt;/code&gt;è¿›è¡Œè·³è½¬åˆ°æŒ‡å®šçš„ç±»åˆ«ã€‚&lt;/p&gt;

&lt;h3 id=&quot;tags&quot;&gt;Tags&lt;/h3&gt;

&lt;p&gt;å‚è€ƒ&lt;a href=&quot;https://segmentfault.com/a/1190000000406017#articleHeader5&quot;&gt;ä½¿ç”¨æ–‡ç« æ ‡ç­¾ç´¢å¼•æ–‡ç« &lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é¦–å…ˆåœ¨æ¯ä¸ªæ–‡ç« çš„YAMLå¤´ä¿¡æ¯ä¸­å®šä¹‰tagsï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;---
layout: post
title:  &quot;your title&quot;
tags: [github, jekyll]
---
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å’Œ&lt;a href=&quot;#category&quot;&gt;category&lt;/a&gt;çš„è®¾ç½®æ–¹æ³•å·®ä¸å¤šï¼Œå°±ä¸èµ˜è¿°äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;latex&quot;&gt;Latex&lt;/h3&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;a href=&quot;https://jekyllrb.com/docs/extras/#math-support&quot;&gt;https://jekyllrb.com/docs/extras/#math-support&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡Œä¸ºäº†é¿å…æ‰€æœ‰pageséƒ½å¼•å…¥mathjaxç›¸å…³jsä»£ç ï¼Œé‡‡ç”¨äº†ä¸åŒçš„è®¾ç½®ï¼š&lt;/p&gt;

&lt;p&gt;åœ¨é…ç½®æ–‡ä»¶&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;ä¸­æ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;mathjax: false
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;head.html&lt;/code&gt;ä¸­æ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{% if page.mathjax %}
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
{% endif %}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ç„¶ååœ¨éœ€è¦å¼•å…¥mathjaxçš„mdæ–‡ä»¶å¤´ä¸­åŠ å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;mathjax: true&lt;/code&gt;ï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;---
layout: post
...
mathjax: true
---
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;support-&quot;&gt;Support $&lt;/h4&gt;

&lt;p&gt;é»˜è®¤åªæ”¯æŒåŒ&lt;code class=&quot;highlighter-rouge&quot;&gt;$&lt;/code&gt;ç¬¦ï¼Œä¿®æ”¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text/x-mathjax-config&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;MathJax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Hub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;TeX&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;equationNumbers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;autoNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;AMS&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;tex2jax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;inlineMath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;displayMath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'$$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'$$'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;processEscapes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;mathjax-rendering-problem&quot;&gt;Mathjax Rendering Problem&lt;/h4&gt;

&lt;p&gt;è‹¥latexå…¬å¼ä¸­åŒ…å«&lt;code class=&quot;highlighter-rouge&quot;&gt;|&lt;/code&gt;ç¬¦ï¼Œå¦‚&lt;code class=&quot;highlighter-rouge&quot;&gt;|a|&lt;/code&gt;ï¼Œä¼šè¢«markdownè§£æå™¨å½“æˆ&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;table&amp;gt;&amp;lt;/table&amp;gt;&lt;/code&gt;æ¥å¤„ç†ã€‚&lt;/p&gt;

&lt;p&gt;åˆå¦‚ï¼Œå®šä¹‰çŸ©é˜µæ—¶ï¼Œå…¶ä¸­çš„æ¢è¡Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;\\&lt;/code&gt;ä¹Ÿä¼šè¢«è§£æå‡ºé—®é¢˜ï¼ŒæŠŠç¬¬ä¸€ä¸ª&lt;code class=&quot;highlighter-rouge&quot;&gt;\&lt;/code&gt;å½“æˆäº†è½¬ä¹‰ç¬¦ã€‚&lt;/p&gt;

&lt;p&gt;è§£å†³æ–¹å¼ï¼š&lt;/p&gt;

&lt;p&gt;å¯¹ç¬¬ä¸€ç§æƒ…å†µï¼Œæ ¹æ® &lt;a href=&quot;https://kramdown.gettalong.org/syntax.html#math-blocks&quot;&gt;Syntax | Kramdown&lt;/a&gt; ä¸Šçš„è¯´æ˜ï¼Œå°†&lt;code class=&quot;highlighter-rouge&quot;&gt;|&lt;/code&gt;ç”¨&lt;code class=&quot;highlighter-rouge&quot;&gt;\vert&lt;/code&gt;æ¥ä»£æ›¿ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹ç¬¬äºŒç§æƒ…å†µï¼Œç”¨åŒ&lt;code class=&quot;highlighter-rouge&quot;&gt;$$&lt;/code&gt;ç¬¦è§£å†³è½¬ä¹‰é—®é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;code-highlighting&quot;&gt;Code Highlighting&lt;/h3&gt;

&lt;p&gt;Jekyll 3.x è‡ªå¸¦äº†rougeä»£ç é«˜äº®çš„åŠŸèƒ½ï¼Œä½†æ˜¯ä¸é€ ä¸ºå•¥ä¸€ç›´not workingï¼ˆéš¾é“åˆè¢«çœ‹è„¸äº†ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯è¿™é‡Œç”¨çš„æ˜¯&lt;a href=&quot;https://highlightjs.org/&quot;&gt;highlightjs&lt;/a&gt;ã€‚åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;head.html&lt;/code&gt;é‡Œæ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;link&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;rel=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;stylesheet&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/lib/highlight/styles/hybrid.css&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/lib/highlight/highlight.pack.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hljs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initHighlightingOnLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘è¿™é‡ŒæŠŠä¸‹è½½çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightjs&lt;/code&gt;çš„ç›¸å…³æ–‡ä»¶æ”¾åœ¨äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;lib&lt;/code&gt;ç›®å½•ä¸‹ï¼Œæ ·å¼é€‰çš„æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;hybrid.css&lt;/code&gt;ã€‚ï¼ˆmonokai-sublime å’Œ hybrid é…è‰²ä¹Ÿä¸é”™ã€‚ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightjs&lt;/code&gt;ä¼šè§£æå¹¶é«˜äº®&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;...&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&lt;/code&gt;ä¸­çš„å†…å®¹ã€‚å¦‚&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;pre&amp;gt;&amp;lt;code&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;html&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;...&lt;span class=&quot;nt&quot;&gt;&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‹¥ä¸éœ€è¦é«˜äº®åˆ™è®¾ä¸ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;pre&amp;gt;&amp;lt;code&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;nohighlight&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;...&lt;span class=&quot;nt&quot;&gt;&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸ªéº»çƒ¦çš„åœ°æ–¹ï¼Œè‹¥mdé‡Œæ²¡æœ‰æŒ‡æ˜è¯­è¨€ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightjs&lt;/code&gt;ä¹Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯ä»€ä¹ˆè¯­è¨€ã€‚å¦‚æœä¸æƒ³å¯¹æŸä¸ªcode blockè¿›è¡Œé«˜äº®ï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹å¼ï¼šï¼ˆå½“ç„¶äº†ï¼Œæˆ‘æ¯”è¾ƒæŠ˜è…¾ï¼Œä¸€èˆ¬äººä¹Ÿä¸éœ€è¦è¿™ä¸ªã€‚ã€‚ï¼ˆæ‚è„¸ï¼‰&lt;/p&gt;

&lt;p&gt;ï¼ˆ1ï¼‰æ¯æ¬¡æ‰‹åŠ¨åŠ å…¥&lt;code class=&quot;highlighter-rouge&quot;&gt;nohighlight&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;â€‹```nohighlight
xxx
â€‹```
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆ2ï¼‰ä¿®æ”¹markdownè§£æå™¨ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€ç§æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼Œä½†&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightjs&lt;/code&gt;åˆæ²¡æœ‰æä¾›å…³é—­&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightAuto&lt;/code&gt;çš„æ¥å£ã€‚&lt;/p&gt;

&lt;h3 id=&quot;custom-markdown-parser&quot;&gt;Custom Markdown Parser&lt;/h3&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;ä¸­å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯&lt;code class=&quot;highlighter-rouge&quot;&gt;kramdown&lt;/code&gt;è§£æå™¨ã€‚&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;markdown: kramdown
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…³äº&lt;a href=&quot;https://jekyllrb.com/docs/configuration/#custom-markdown-processors&quot;&gt;Custom Markdown Processors&lt;/a&gt;å®˜ç½‘æœ‰ä¸€äº›è¯´æ˜ï¼Œå¥½å§ï¼Œæ²¡çœ‹æ‡‚ï¼Œæ¯•ç«Ÿä¸ä¼šRubyã€‚kramdownä¹Ÿä¸èƒ½ä»¥overwritedçš„æ–¹å¼æ”¹å†™ç›¸åº”çš„convertæ–¹æ³•ï¼Œç„¶ååˆå†™äº†æ®µjsä»£ç è¯•å›¾ä¿®æ”¹kramdownè§£æå‡ºçš„htmlï¼Œä½†è¿˜æ˜¯æ²¡æˆåŠŸã€‚çœŸæ˜¯è‰°è¾›ï¼Œç½‘ä¸Šæ‰¾äº†å¥½ä¹…éƒ½æ— æœï¼Œæœ€åè¿˜ä¸å¦‚ç›´æ¥çœ‹ä»£ç æ”¹æ¥å¾—å¿«ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;å¥½åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;highlightjs&lt;/code&gt;æä¾›äº†è¿™ä¸ªï¼š&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// ignore languages&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hljs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;configure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ignore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'text'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;sr&quot;&gt;/script&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&amp;gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶åçœ‹Jekyllæºç ï¼Œæ‰¾åˆ°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll/lib/jekyll/converters/markdown/kramdown_parser.rb&lt;/code&gt; (see &lt;a href=&quot;https://github.com/jekyll/jekyll/blob/57fd5f887da1189a16bdfbb982d75f725c38d725/lib/jekyll/converters/markdown/kramdown_parser.rb&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;Kramdown&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_html&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ¥ç€çœ‹kramdownæºç ï¼Œæ‰¾åˆ°äº†&lt;code class=&quot;highlighter-rouge&quot;&gt;kramdown/lib/kramdown/converter/html.rb&lt;/code&gt; (see &lt;a href=&quot;https://github.com/gettalong/kramdown/blob/f4cdae257159ce0addf542739fed262e4a2cf401/lib/kramdown/converter/html.rb&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘çš„æœ¬åœ°ç”µè„‘ä¸­ï¼Œç›¸å…³æ–‡ä»¶ä½äº&lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/local/lib/ruby/gems/2.4.0/gems/kramdown-1.14.0/lib/kramdown/converter/html.rb&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ‰¾åˆ°&lt;code class=&quot;highlighter-rouge&quot;&gt;def convert_codeblock(el, indent)&lt;/code&gt;å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼š&lt;/p&gt;

&lt;p&gt;åœ¨ä»£ç &lt;code class=&quot;highlighter-rouge&quot;&gt;code_attr['class'] = &quot;language-#{lang}&quot; if lang&lt;/code&gt; å‰æ·»åŠ ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;lang&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¹¶å°†ä»£ç &lt;code class=&quot;highlighter-rouge&quot;&gt;if highlighted_code&lt;/code&gt; æ”¹ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;if highlighted_code &amp;amp;&amp;amp; lang&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ï¼ˆå…¶ä¸­ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;nil&lt;/code&gt;æ˜¯åˆ¤ç©ºçš„æ„æ€ã€‚ï¼‰&lt;/p&gt;

&lt;p&gt;è¿™æ ·åœ¨ä¸æŒ‡æ˜è¯­è¨€çš„æ—¶å€™ï¼Œä¸é«˜äº®æ˜¾ç¤ºã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ä¸Šé¢æ˜¯macç¯å¢ƒä¸‹ï¼Œå¯ä»¥ç›´æ¥æ”¹ä»£ç ã€‚ä½†æ˜¯åœ¨linuxç¯å¢ƒä¸‹ï¼Œåªæœ‰ä¸€ä¸ªäºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯ï¼Œå…ˆåˆ é™¤åŸæœ‰çš„ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ sudo gem uninstall kramdown
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç„¶ååœ¨å®˜ç½‘&lt;a href=&quot;https://github.com/gettalong/kramdown/releases&quot;&gt;ä¸‹è½½æºç &lt;/a&gt;é‡æ–°å®‰è£…ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$ ruby setup.rb config
$ ruby setup.rb setup
$ ruby setup.rb install
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¥½å§ï¼Œæš‚æ—¶æ²¡å¼„å¥½ã€‚ã€‚ã€‚&lt;/p&gt;

&lt;h2 id=&quot;else&quot;&gt;Else&lt;/h2&gt;

&lt;h3 id=&quot;permalinks&quot;&gt;Permalinks&lt;/h3&gt;

&lt;p&gt;åœ¨&lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;ä¸­è®¾ç½®ï¼Œå¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;permalink: /:categories/:year/:month/:day/:title.html
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;footer&quot;&gt;footer&lt;/h3&gt;

&lt;p&gt;å½“é¡µé¢å†…å®¹é•¿åº¦ä¸å¤Ÿæ—¶ï¼Œfooteræ˜¾ç¤ºä½ç½®å¯èƒ½æœ‰é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;è®©footerå†…å®¹æ°¸è¿œå¤„äºæœ€æœ«ç«¯ï¼š&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;$height-footer: 40px;

html {
    height: 100%;
}

body {
    min-height: 100%;
    position: relative;
    padding-bottom: $height-footer;
}

.footer {
    bottom: 0;
    width: 100%;
    position: absolute;
    height: $height-footer;
}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å­å…ƒç´ çš„ç™¾åˆ†æ¯”é«˜åº¦ä¹Ÿå¯ä»¥åŸºäºçˆ¶å…ƒç´ çš„ç™¾åˆ†æ¯”é«˜åº¦ï¼Œå‰ææ˜¯çˆ¶å…ƒç´ çš„çˆ¶å…ƒç´ å¿…é¡»æœ‰ä¸€ä¸ªæ˜ç¡®çš„é«˜åº¦ã€‚è¦ä½¿&lt;code class=&quot;highlighter-rouge&quot;&gt;min-height&lt;/code&gt;çš„ç™¾åˆ†æ¯”å€¼ç”Ÿæ•ˆï¼Œå…¶çˆ¶å…ƒç´ çš„&lt;code class=&quot;highlighter-rouge&quot;&gt;height&lt;/code&gt;å€¼å¿…é¡»ä¸ºä¸€ä¸ªå›ºå®šçš„é«˜åº¦æˆ–è€…æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç™¾åˆ†æ¯”é«˜åº¦ã€‚&lt;/p&gt;

&lt;h2 id=&quot;problems&quot;&gt;Problems&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;{{ xxx }}&lt;/code&gt; æˆ–è€… &lt;code class=&quot;highlighter-rouge&quot;&gt;{% xxx %}&lt;/code&gt; æ˜¾ç¤ºä¸å‡ºæ¥ã€‚&lt;/p&gt;

&lt;p&gt;è§£å†³æ–¹å¼ï¼š&lt;/p&gt;

&lt;p&gt;ï¼ˆ1ï¼‰&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;\{\{ xxx \}\}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ï¼ˆ2ï¼‰å‚è€ƒï¼š&lt;a href=&quot;https://stackoverflow.com/questions/24102498/escaping-double-curly-braces-inside-a-markdown-code-block-in-jekyll&quot;&gt;Escaping double curly braces inside a markdown code block in Jekyll&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{% raw %}    
This is a test: {{ xxx }}
{% endraw %}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ï¼ˆ3ï¼‰é‚£ä¹ˆé—®é¢˜åˆæ¥äº†ï¼Œå¦‚ä½•æ˜¾ç¤ºä¸Šé¢çš„ raw å’Œ endraw å‘¢ï¼Ÿå‚è€ƒï¼š&lt;a href=&quot;http://www.cnblogs.com/OceanHeaven/p/6959669.html&quot;&gt;jekyll å¦‚ä½•è½¬ä¹‰å­—ç¬¦&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;server {
    listen [::]:80;
    server_name comments.lszero.com;
    
    location /isso {
        proxy_pass http://localhost:8090;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header Host $host;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Script-Name /isso;
    }
}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Tue, 01 Aug 2017 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/coding4fun/2017/08/01/static-website-with-jekyll/</link>
        <guid isPermaLink="true">http://localhost:4000/coding4fun/2017/08/01/static-website-with-jekyll/</guid>
        
        <category>github</category>
        
        <category>jekyll</category>
        
        <category>bootstrap</category>
        
        
        <category>coding4fun</category>
        
      </item>
    
      <item>
        <title>é¥¿äº†ä¹ˆçš„ PWA å‡çº§å®è·µ</title>
        <description>&lt;!-- Chinese Version --&gt;

&lt;div class=&quot;zh post-container&quot;&gt;
    
    
&lt;blockquote&gt;
  &lt;p&gt;å¾ˆè£å¹¸åœ¨ä»Šå¹´ 2 æœˆåˆ° 5 æœˆçš„æ—¶é—´é‡Œï¼Œä»¥é¡¾é—®çš„èº«ä»½åŠ å…¥é¥¿äº†ä¹ˆï¼Œå‚ä¸ PWA çš„ç›¸å…³å·¥ä½œã€‚è¿™ç¯‡æ–‡ç« å…¶å®æœ€åˆæ˜¯åœ¨ä»¥è‹±æ–‡å†™ä½œå‘è¡¨åœ¨ medium ä¸Šçš„ï¼š&lt;a href=&quot;https://medium.com/elemefe/upgrading-ele-me-to-progressive-web-app-2a446832e509&quot;&gt;Upgrading Ele.me to Progressive Web Apps&lt;/a&gt;ï¼Œè·å¾—äº†ä¸€å®šçš„å…³æ³¨ã€‚æ‰€ä»¥ä¹Ÿå†³å®šæ”¹å†™ä¸ºä¸­æ–‡ç‰ˆæœ¬å†æ¬¡åˆ†äº«å‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ© ;) &lt;br /&gt;&lt;br /&gt;
æœ¬æ–‡é¦–å‘äº &lt;a href=&quot;http://geek.csdn.net/news/detail/210535&quot;&gt;CSDN&lt;/a&gt; ä¸ã€Šç¨‹åºå‘˜ã€‹2017 å¹´ 7 æœˆåˆŠï¼ŒåŒæ­¥å‘å¸ƒäº &lt;a href=&quot;https://zhuanlan.zhihu.com/ElemeFE&quot;&gt;é¥¿äº†ä¹ˆå‰ç«¯ - çŸ¥ä¹ä¸“æ &lt;/a&gt;ã€&lt;a href=&quot;https://huangxuan.me&quot;&gt;Hux Blog&lt;/a&gt;ï¼Œè½¬è½½è¯·ä¿ç•™é“¾æ¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è‡ª Vue.js å®˜æ–¹æ¨ç‰¹ç¬¬ä¸€æ¬¡&lt;a href=&quot;https://twitter.com/vuejs/status/834087199008239619&quot;&gt;å…¬å¼€&lt;/a&gt;åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬å°±ä¸€ç›´åœ¨è¿›è¡Œç€å°†&lt;a href=&quot;https://h5.ele.me/msite/#pwa=true&quot;&gt;é¥¿äº†ä¹ˆç§»åŠ¨ç«¯ç½‘ç«™&lt;/a&gt;å‡çº§ä¸º &lt;a href=&quot;https://developers.google.com/web/progressive-web-apps/&quot;&gt;Progressive Web App&lt;/a&gt; çš„å·¥ä½œã€‚ç›´åˆ°è¿‘æ—¥åœ¨ Google I/O 2017 ä¸Š&lt;a href=&quot;https://m.weibo.cn/status/4109332495285652&quot;&gt;ç™»å°äº®ç›¸&lt;/a&gt;ï¼Œæ‰ç»ˆäºç®—å‘Šä¸€æ®µè½ã€‚æˆ‘ä»¬éå¸¸è£å¹¸èƒ½å¤Ÿå‘å¸ƒå…¨ä¸–ç•Œç¬¬ä¸€ä¸ªä¸“é—¨é¢å‘å›½å†…ç”¨æˆ·çš„ PWAï¼Œä½†æ›´è£å¹¸çš„æ˜¯èƒ½ä¸ Googleã€UC ä»¥åŠè…¾è®¯åˆä½œï¼Œä¸€èµ·æ¨åŠ¨å›½å†… web ä¸æµè§ˆå™¨ç”Ÿæ€çš„å‘å±•ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¤šé¡µåº”ç”¨vuepwa&quot;&gt;å¤šé¡µåº”ç”¨ã€Vueã€PWAï¼Ÿ&lt;/h2&gt;

&lt;p&gt;å¯¹äºæ„å»ºä¸€ä¸ªå¸Œæœ›è¾¾åˆ°åŸç”Ÿåº”ç”¨çº§åˆ«ä½“éªŒçš„ PWAï¼Œç›®å‰ç¤¾åŒºé‡Œçš„ä¸»æµåšæ³•éƒ½æ˜¯é‡‡ç”¨ SPAï¼Œå³å•é¡µé¢åº”ç”¨æ¨¡å‹ï¼ˆSingle-page Appï¼‰æ¥ç»„ç»‡æ•´ä¸ª web åº”ç”¨ï¼Œä¸šå†…æœ€æœ‰åçš„å‡ ä¸ª PWA æ¡ˆä¾‹ &lt;a href=&quot;https://blog.twitter.com/2017/how-we-built-twitter-lite&quot;&gt;Twitter Lite&lt;/a&gt;ã€ &lt;a href=&quot;https://medium.com/progressive-web-apps/building-flipkart-lite-a-progressive-web-app-2c211e641883&quot;&gt;Flipkart Lite&lt;/a&gt;ã€&lt;a href=&quot;https://medium.com/engineering-housing/progressing-mobile-web-fac3efb8b454&quot;&gt;Housing Go&lt;/a&gt; ä¸ &lt;a href=&quot;https://shop.polymer-project.org/&quot;&gt;Polymer Shop&lt;/a&gt; æ— ä¸€ä¾‹å¤–ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶è€Œé¥¿äº†ä¹ˆï¼Œä¸å¾ˆå¤šå›½å†…çš„ç”µå•†ç½‘ç«™ä¸€æ ·ï¼Œé’çå¤šé¡µé¢åº”ç”¨æ¨¡å‹ï¼ˆMPAï¼ŒMulti-page Appï¼‰æ‰€èƒ½å¸¦æ¥çš„ä¸€äº›å¥½å¤„ï¼Œä¹Ÿå› æ­¤åœ¨ä¸€å¹´å¤šå°†ç§»åŠ¨ç«™ä»åŸºäº Angular.js çš„å•é¡µåº”ç”¨é‡æ„ä¸ºç›®å‰çš„å¤šé¡µåº”ç”¨æ¨¡å‹ã€‚å›¢é˜Ÿæœ€çœ‹é‡çš„ä¼˜ç‚¹è«è¿‡äºé¡µé¢ä¸é¡µé¢ä¹‹é—´çš„éš”ç¦»ä¸è§£è€¦ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªé¡µé¢å½“åšä¸€ä¸ªç‹¬ç«‹çš„â€œå¾®æœåŠ¡â€æ¥çœ‹å¾…ï¼Œè¿™äº›æœåŠ¡å¯ä»¥è¢«ç‹¬ç«‹è¿­ä»£ï¼Œç‹¬ç«‹æä¾›ç»™å„ç§ç¬¬ä¸‰æ–¹çš„å…¥å£åµŒå…¥ï¼Œç”šè‡³è¢«ä¸åŒçš„å›¢é˜Ÿç‹¬ç«‹ç»´æŠ¤ã€‚è€Œæ•´ä¸ªç½‘ç«™åˆ™åªæ˜¯å„ç§æœåŠ¡çš„é›†åˆè€Œéä¸€ä¸ªå·¨å¤§çš„æ•´ä½“ã€‚&lt;/p&gt;

&lt;p&gt;ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬ä»ç„¶ä¾èµ– &lt;a href=&quot;http://vuejs.org/&quot;&gt;Vue.js&lt;/a&gt; ä½œä¸º JavaScript æ¡†æ¶ã€‚Vue é™¤äº†æ˜¯ React/Angular è¿™ç§â€œé‡å‹æ­¦å™¨â€çš„ç«äº‰å¯¹æ‰‹å¤–ï¼Œå…¶è½»é‡ä¸é«˜æ€§èƒ½çš„ä¼˜ç‚¹ä½¿å¾—å®ƒåŒæ ·å¯ä»¥ä½œä¸ºä¼ ç»Ÿå¤šé¡µåº”ç”¨å¼€å‘ä¸­æµè¡Œçš„ â€œjQuery/Zepto/Kissy + æ¨¡æ¿å¼•æ“â€ æŠ€æœ¯æ ˆçš„å®Œç¾æ›¿ä»£ã€‚Vue æä¾›çš„ç»„ä»¶ç³»ç»Ÿã€å£°æ˜å¼ä¸å“åº”å¼ç¼–ç¨‹æ›´æ˜¯æå‡äº†ä»£ç ç»„ç»‡ã€å…±äº«ã€æ•°æ®æµæ§åˆ¶ã€æ¸²æŸ“ç­‰å„ä¸ªç¯èŠ‚çš„å¼€å‘æ•ˆç‡ã€‚&lt;a href=&quot;(https://www.youtube.com/watch?v=pBBSp_iIiVM)&quot;&gt;Vue è¿˜æ˜¯ä¸€ä¸ªæ¸è¿›å¼æ¡†æ¶&lt;/a&gt;ï¼Œå¦‚æœç½‘ç«™çš„å¤æ‚åº¦ç»§ç»­æå‡ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰éœ€ã€å¢é‡åœ°å¼•å…¥ Vuex æˆ– Vue-Router è¿™äº›æ¨¡å—ã€‚ä¸‡ä¸€å“ªå¤©åˆè¦æ”¹å›å•é¡µå‘¢ï¼Ÿï¼ˆè°çŸ¥é“å‘¢â€¦â€¦ï¼‰&lt;/p&gt;

&lt;p&gt;2017 å¹´ï¼ŒPWA å·²ç»æˆä¸º web åº”ç”¨æ–°çš„é£æ½®ã€‚æˆ‘ä»¬å†³å®šè¯•è¯•ï¼Œä»¥æˆ‘ä»¬ç°æœ‰çš„â€œVue + å¤šé¡µâ€çš„æ¶æ„ï¼Œèƒ½åœ¨å‡çº§ PWA çš„é“è·¯ä¸Šèµ°å¤šè¿œï¼Œè¾¾åˆ°æ€æ ·çš„æ•ˆæœã€‚&lt;/p&gt;

&lt;h2 id=&quot;å®ç°-prpl-æ¨¡å¼&quot;&gt;å®ç° â€œPRPLâ€ æ¨¡å¼&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/prpl-pattern/&quot;&gt;â€œPRPLâ€&lt;/a&gt;ï¼ˆè¯»ä½œ â€œpurpleâ€ï¼‰æ˜¯ Google çš„å·¥ç¨‹å¸ˆæå‡ºçš„ä¸€ç§ web åº”ç”¨æ¶æ„æ¨¡å¼ï¼Œå®ƒæ—¨åœ¨åˆ©ç”¨ç°ä»£ web å¹³å°çš„æ–°æŠ€æœ¯ä»¥å¤§å¹…ä¼˜åŒ–ç§»åŠ¨ web çš„æ€§èƒ½ä¸ä½“éªŒï¼Œå¯¹å¦‚ä½•ç»„ç»‡ä¸è®¾è®¡é«˜æ€§èƒ½çš„ PWA ç³»ç»Ÿæä¾›äº†ä¸€ç§é«˜å±‚æ¬¡çš„æŠ½è±¡ã€‚æˆ‘ä»¬å¹¶ä¸å‡†å¤‡ä»å¤´é‡æ„æˆ‘ä»¬çš„ web åº”ç”¨ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥æŠŠå®ç° â€œPRPLâ€ æ¨¡å¼ä½œä¸ºæˆ‘ä»¬çš„è¿ç§»ç›®æ ‡ã€‚â€œPRPLâ€å®é™…ä¸Šæ˜¯ Push/Preloadã€Renderã€Precacheã€Lazy-Load çš„ç¼©å†™ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸‹æ–‡ä¸­å±•å¼€å®ƒä»¬çš„å…·ä½“å«ä¹‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;1-pushpreloadæ¨é€é¢„åŠ è½½åˆå§‹-url-è·¯ç”±æ‰€éœ€çš„å…³é”®èµ„æº&quot;&gt;1. PUSH/PRELOADï¼Œæ¨é€/é¢„åŠ è½½åˆå§‹ URL è·¯ç”±æ‰€éœ€çš„å…³é”®èµ„æºã€‚&lt;/h3&gt;

&lt;p&gt;æ— è®ºæ˜¯ HTTP2 Server Push è¿˜æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;link rel=&quot;preload&quot;&amp;gt;&lt;/code&gt;ï¼Œå…¶å…³é”®éƒ½åœ¨äºï¼Œæˆ‘ä»¬å¸Œæœ›æå‰è¯·æ±‚ä¸€äº›éšè—åœ¨åº”ç”¨ä¾èµ–å…³ç³»ï¼ˆDependency Graphï¼‰è¾ƒæ·±å¤„çš„èµ„æºï¼Œä»¥èŠ‚çœ HTTP å¾€è¿”ã€æµè§ˆå™¨è§£ææ–‡æ¡£ã€æˆ–è„šæœ¬æ‰§è¡Œçš„æ—¶é—´ã€‚æ¯”å¦‚è¯´ï¼Œå¯¹äºä¸€ä¸ªåŸºäºè·¯ç”±è¿›è¡Œ code splitting çš„ SPAï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥åœ¨ webpack æ¸…å•ã€è·¯ç”±ç­‰å…¥å£ä»£ç ï¼ˆentry chunksï¼‰è¢«ä¸‹è½½ä¸è¿è¡Œä¹‹å‰å°±æŠŠåˆå§‹ URLï¼Œå³ç”¨æˆ·è®¿é—®çš„å…¥å£ URL è·¯ç”±æ‰€ä¾èµ–çš„ä»£ç ç”¨ Server Push æ¨é€æˆ– &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;link rel=&quot;preload&quot;&amp;gt;&lt;/code&gt; è¿›è¡Œæå‰åŠ è½½ã€‚é‚£ä¹ˆå½“è¿™äº›èµ„æºè¢«çœŸæ­£è¯·æ±‚æ—¶ï¼Œå®ƒä»¬å¯èƒ½å·²ç»ä¸‹è½½å¥½å¹¶å­˜åœ¨åœ¨ç¼“å­˜ä¸­äº†ï¼Œè¿™æ ·å°±åŠ å¿«äº†åˆå§‹è·¯ç”±æ‰€æœ‰ä¾èµ–çš„å°±ç»ªã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å¤šé¡µåº”ç”¨ä¸­ï¼Œæ¯ä¸€ä¸ªè·¯ç”±æœ¬æ¥å°±åªä¼šè¯·æ±‚è¿™ä¸ªè·¯ç”±æ‰€éœ€è¦çš„èµ„æºï¼Œå¹¶ä¸”é€šå¸¸ä¾èµ–ä¹Ÿéƒ½æ¯”è¾ƒæ‰å¹³ã€‚é¥¿äº†ä¹ˆç§»åŠ¨ç«™çš„å¤§éƒ¨åˆ†è„šæœ¬ä¾èµ–éƒ½æ˜¯æ™®é€šçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; å…ƒç´ ï¼Œå› æ­¤ä»–ä»¬å¯ä»¥åœ¨æ–‡æ¡£è§£ææ—©æœŸå°±è¢«æµè§ˆå™¨çš„ preloader æ‰«æå‡ºæ¥å¹¶ä¸”å¼€å§‹è¯·æ±‚ï¼Œå…¶æ•ˆæœå…¶å®ä¸æ˜¾å¼çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;link rel=&quot;preload&quot;&amp;gt;&lt;/code&gt; æ˜¯ä¸€è‡´çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/PUSH-link-rel-preload.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬è¿˜å°†æ‰€æœ‰å…³é”®çš„é™æ€èµ„æºéƒ½ä¼ºæœåœ¨åŒä¸€åŸŸåä¸‹ï¼ˆä¸å†åšåŸŸåæ•£åˆ—ï¼‰ï¼Œä»¥æ›´å¥½çš„åˆ©ç”¨ HTTP2 å¸¦æ¥çš„å¤šè·¯å¤ç”¨ï¼ˆMultiplexingï¼‰ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿåœ¨è¿›è¡Œç€å¯¹ API è¿›è¡Œ Server Push çš„&lt;a href=&quot;https://zhuanlan.zhihu.com/p/26757514&quot;&gt;å®éªŒ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;2-renderæ¸²æŸ“åˆå§‹è·¯ç”±å°½å¿«è®©åº”ç”¨å¯è¢«äº¤äº’&quot;&gt;2. RENDERï¼Œæ¸²æŸ“åˆå§‹è·¯ç”±ï¼Œå°½å¿«è®©åº”ç”¨å¯è¢«äº¤äº’&lt;/h3&gt;

&lt;p&gt;æ—¢ç„¶æ‰€æœ‰åˆå§‹è·¯ç”±çš„ä¾èµ–éƒ½å·²ç»å°±ç»ªï¼Œæˆ‘ä»¬å°±å¯ä»¥å°½å¿«å¼€å§‹åˆå§‹è·¯ç”±çš„æ¸²æŸ“ï¼Œè¿™æœ‰åŠ©äºæå‡åº”ç”¨è¯¸å¦‚é¦–æ¬¡æ¸²æŸ“æ—¶é—´ã€å¯äº¤äº’æ—¶é—´ç­‰æŒ‡æ ‡ã€‚å¤šé¡µåº”ç”¨å¹¶ä¸ä½¿ç”¨åŸºäº JavaScript çš„è·¯ç”±ï¼Œè€Œæ˜¯ä¼ ç»Ÿçš„ HTML è·³è½¬æœºåˆ¶ï¼Œæ‰€ä»¥å¯¹äºè¿™ä¸€éƒ¨åˆ†ï¼Œå¤šé¡µåº”ç”¨å…¶å®ä¸ç”¨é¢å¤–åšä»€ä¹ˆã€‚&lt;/p&gt;

&lt;h3 id=&quot;3-pre-cacheç”¨-service-worker-é¢„ç¼“å­˜å‰©ä¸‹çš„è·¯ç”±&quot;&gt;3. PRE-CACHEï¼Œç”¨ Service Worker é¢„ç¼“å­˜å‰©ä¸‹çš„è·¯ç”±&lt;/h3&gt;

&lt;p&gt;è¿™ä¸€éƒ¨åˆ†å°±éœ€è¦ &lt;a href=&quot;https://w3c.github.io/ServiceWorker/v1/&quot;&gt;Service Worker&lt;/a&gt; çš„å‚ä¸äº†ï¼ŒService Worker æ˜¯ä¸€ä¸ªä½äºæµè§ˆå™¨ä¸ç½‘ç»œä¹‹é—´çš„å®¢æˆ·ç«¯ä»£ç†ï¼Œå®ƒä»¥å¯æ‹¦æˆªã€å¤„ç†ã€å“åº”æµç»çš„ HTTP è¯·æ±‚ï¼Œä½¿å¾—å¼€å‘è€…å¾—ä»¥ä»ç¼“å­˜ä¸­å‘ web åº”ç”¨æä¾›èµ„æºè€Œé—»åã€‚ä¸è¿‡ï¼ŒService Worker å…¶å®ä¹Ÿå¯ä»¥ä¸»åŠ¨å‘èµ· HTTP è¯·æ±‚ï¼Œåœ¨â€œåå°â€ é¢„è¯·æ±‚ä¸é¢„ç¼“å­˜æˆ‘ä»¬æœªæ¥æ‰€éœ€è¦çš„èµ„æºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/PRECACHE-future-routes.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬å·²ç»ä½¿ç”¨ &lt;a href=&quot;https://webpack.github.io/&quot;&gt;Webpack&lt;/a&gt; åœ¨æ„å»ºè¿‡ç¨‹ä¸­è¿›è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;.vue&lt;/code&gt; ç¼–è¯‘ã€æ–‡ä»¶åå“ˆå¸Œç­‰å·¥ä½œï¼Œäºæ˜¯æˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ª webpack æ’ä»¶æ¥å¸®åŠ©æˆ‘ä»¬æ”¶é›†éœ€è¦ç¼“å­˜çš„ä¾èµ–åˆ°ä¸€ä¸ªâ€œé¢„ç¼“å­˜æ¸…å•â€ä¸­ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªæ¸…å•åœ¨æ¯æ¬¡æ„å»ºæ—¶ç”Ÿæˆæ–°çš„ Service Worker æ–‡ä»¶ã€‚åœ¨æ–°çš„ Service Worker è¢«æ¿€æ´»æ—¶ï¼Œæ¸…å•é‡Œçš„èµ„æºå°±ä¼šè¢«è¯·æ±‚ä¸ç¼“å­˜ï¼Œè¿™å…¶å®ä¸ &lt;a href=&quot;https://medium.com/@Huxpro/how-does-sw-precache-works-2d99c3d3c725&quot;&gt;SW-Precache è¿™ä¸ªåº“çš„è¿è¡Œæœºåˆ¶&lt;/a&gt;éå¸¸æ¥è¿‘ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®é™…ä¸Šï¼Œæˆ‘ä»¬åªå¯¹æˆ‘ä»¬æ ‡è®°ä¸ºâ€œå…³é”®è·¯ç”±â€çš„è·¯ç”±è¿›è¡Œä¾èµ–æ”¶é›†ã€‚&lt;/strong&gt;ä½ å¯ä»¥å°†è¿™äº›â€œå…³é”®è·¯ç”±â€çš„ä¾èµ–ç†è§£ä¸ºæˆ‘ä»¬æ•´ä¸ªåº”ç”¨çš„ &lt;a href=&quot;https://developers.google.com/web/updates/2015/11/app-shell&quot;&gt;â€œApp Shellâ€&lt;/a&gt; æˆ–è€…è¯´â€œå®‰è£…åŒ…â€ã€‚ä¸€æ—¦å®ƒä»¬éƒ½è¢«ç¼“å­˜ï¼Œæˆ–è€…è¯´æˆåŠŸå®‰è£…ï¼Œæ— è®ºç”¨æˆ·æ˜¯åœ¨çº¿ç¦»çº¿ï¼Œæˆ‘ä»¬çš„ web åº”ç”¨éƒ½å¯ä»¥ä»ç¼“å­˜ä¸­ç›´æ¥å¯åŠ¨ã€‚å¯¹äºé‚£äº›å¹¶ä¸é‚£ä¹ˆé‡è¦çš„è·¯ç”±ï¼Œæˆ‘ä»¬åˆ™é‡‡å–åœ¨è¿è¡Œæ—¶å¢é‡ç¼“å­˜çš„æ–¹å¼ã€‚æˆ‘ä»¬ä½¿ç”¨çš„ &lt;a href=&quot;https://googlechrome.github.io/sw-toolbox/&quot;&gt;SW-Toolbox&lt;/a&gt; æä¾›äº† LRU æ›¿æ¢ç­–ç•¥ä¸ TTL å¤±æ•ˆæœºåˆ¶ï¼Œå¯ä»¥ä¿è¯æˆ‘ä»¬çš„åº”ç”¨ä¸ä¼šè¶…è¿‡æµè§ˆå™¨çš„ç¼“å­˜é…é¢ã€‚&lt;/p&gt;

&lt;h3 id=&quot;4-lazy-load-æŒ‰éœ€æ‡’åŠ è½½æ‡’å®ä¾‹åŒ–å‰©ä¸‹çš„è·¯ç”±&quot;&gt;4. LAZY-LOAD æŒ‰éœ€æ‡’åŠ è½½ã€æ‡’å®ä¾‹åŒ–å‰©ä¸‹çš„è·¯ç”±&lt;/h3&gt;

&lt;p&gt;æ‡’åŠ è½½ä¸æ‡’å®ä¾‹åŒ–å‰©ä¸‹çš„è·¯ç”±å¯¹äº SPA æ˜¯ä¸€ä»¶ç›¸å¯¹éº»çƒ¦ç‚¹å„¿çš„äº‹æƒ…ï¼Œä½ éœ€è¦å®ç°åŸºäºè·¯ç”±çš„ code splitting ä¸å¼‚æ­¥åŠ è½½ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™åˆæ˜¯ä¸€ä»¶ä¸éœ€è¦å¤šé¡µåº”ç”¨æ‹…å¿ƒçš„äº‹æƒ…ï¼Œå¤šé¡µåº”ç”¨ä¸­çš„å„ä¸ªè·¯ç”±å¤©ç”Ÿå°±æ˜¯åˆ†ç¦»çš„ã€‚&lt;/p&gt;

&lt;p&gt;å€¼å¾—è¯´æ˜çš„æ˜¯ï¼Œæ— è®ºå•é¡µè¿˜æ˜¯å¤šé¡µåº”ç”¨ï¼Œå¦‚æœåœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†è¿™äº›è·¯ç”±çš„èµ„æºéƒ½é¢„å…ˆä¸‹è½½ä¸ç¼“å­˜å¥½äº†ï¼Œé‚£ä¹ˆæ‡’åŠ è½½å°±å‡ ä¹æ˜¯ç¬æ—¶å®Œæˆçš„äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±åªéœ€è¦ä»˜å‡ºå®ä¾‹åŒ–çš„ä»£ä»·ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;è¿™å››å¥è¯å³æ˜¯ PRPL çš„å…¨éƒ¨äº†ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬å‘ç°å¤šé¡µåº”ç”¨åœ¨å®ç° PRPL è¿™ä»¶äº‹ç”šè‡³æ¯”å•é¡µè¿˜è¦å®¹æ˜“ä¸€äº›ã€‚é‚£ä¹ˆç»“æœå¦‚ä½•å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Lighthouse-before.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ ¹æ® Google æ¨å‡ºçš„ Web æ€§èƒ½åˆ†æå·¥å…· Lighthouseï¼ˆv1.6ï¼‰ï¼Œåœ¨æ¨¡æ‹Ÿçš„ 3G ç½‘ç»œä¸‹ï¼Œç”¨æˆ·çš„åˆæ¬¡è®¿é—®ï¼ˆæ— ä»»ä½•ç¼“å­˜ï¼‰å¤§çº¦åœ¨ 2 ç§’å·¦å³è¾¾åˆ°â€œå¯äº¤äº’â€ï¼Œå¯ä»¥è¯´éå¸¸ä¸é”™ã€‚è€Œå¯¹äºå†æ¬¡è®¿é—®ï¼Œç”±äºæ‰€æœ‰èµ„æºéƒ½ç›´æ¥æ¥è‡ªäº Service Worker ç¼“å­˜ï¼Œé¡µé¢å¯ä»¥åœ¨ 1 ç§’å·¦å³å°±è¾¾åˆ°å¯äº¤äº’çš„çŠ¶æ€äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œæ•…äº‹å¹¶ä¸æ˜¯è¿™ä¹ˆç®€å•å¾—å°±ç»“æŸäº†ã€‚åœ¨å®é™…çš„ä½“éªŒä¸­æˆ‘ä»¬å‘ç°ï¼Œ&lt;strong&gt;åº”ç”¨åœ¨é¡µä¸é¡µçš„åˆ‡æ¢æ—¶ï¼Œä»ç„¶å­˜åœ¨ç€éå¸¸æ˜æ˜¾çš„ç™½å±ç©ºéš™&lt;/strong&gt;ï¼Œç”±äº PWA æ˜¯å…¨å±è¿è¡Œçš„ï¼Œç™½å±å¯¹ç”¨æˆ·ä½“éªŒæ‰€å¸¦æ¥çš„è´Ÿé¢å½±å“ç”šè‡³æ¯”ä»¥å¾€åœ¨æµè§ˆå™¨å†…æ›´å¤§ã€‚æˆ‘ä»¬ä¸æ˜¯å·²ç»ç”¨ Service Worker ç¼“å­˜äº†æ‰€æœ‰èµ„æºäº†å—ï¼Œæ€ä¹ˆè¿˜ä¼šè¿™æ ·å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/before-skeleton.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;ä»é¦–é¡µç‚¹å‡»åˆ°å‘ç°é¡µï¼Œè·³è½¬è¿‡ç¨‹ä¸­çš„ç™½å±&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;å¤šé¡µåº”ç”¨çš„é™·é˜±é‡å¯å¼€é”€&quot;&gt;å¤šé¡µåº”ç”¨çš„é™·é˜±ï¼šé‡å¯å¼€é”€&lt;/h2&gt;

&lt;p&gt;ä¸ SPA ä¸åŒï¼Œåœ¨å¤šé¡µåº”ç”¨ä¸­ï¼Œè·¯ç”±çš„åˆ‡æ¢æ˜¯åŸç”Ÿçš„æµè§ˆå™¨æ–‡æ¡£è·³è½¬ï¼ˆNavigating across documentsï¼‰ï¼Œè¿™æ„å‘³ç€ä¹‹å‰çš„é¡µé¢ä¼šè¢«å®Œå…¨ä¸¢å¼ƒè€Œæµè§ˆå™¨éœ€è¦ä¸ºä¸‹ä¸€ä¸ªè·¯ç”±çš„é¡µé¢é‡æ–°æ‰§è¡Œæ‰€æœ‰çš„å¯åŠ¨æ­¥éª¤ï¼šé‡æ–°ä¸‹è½½èµ„æºã€é‡æ–°è§£æ HTMLã€é‡æ–°è¿è¡Œ JavaScriptã€é‡æ–°è§£ç å›¾ç‰‡ã€é‡æ–°å¸ƒå±€é¡µé¢ã€é‡æ–°ç»˜åˆ¶â€¦â€¦å³ä½¿å…¶ä¸­çš„å¾ˆå¤šæ­¥éª¤æœ¬æ˜¯å¯ä»¥åœ¨å¤šä¸ªè·¯ç”±ä¹‹é—´å¤ç”¨çš„ã€‚è¿™äº›å·¥ä½œæ— ç–‘å°†äº§ç”Ÿå·¨å¤§çš„è®¡ç®—å¼€é”€ï¼Œä¹Ÿå› æ­¤éœ€è¦ä»˜å‡ºç›¸å½“çš„æ—¶é—´æˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;å›¾ä¸­ä¸ºæˆ‘ä»¬çš„å…¥å£é¡µï¼ˆåŒæ—¶ä¹Ÿæ˜¯æœ€é‡çš„é¡µé¢ï¼‰åœ¨ 2 å€ CPU èŠ‚æµæ¨¡æ‹Ÿä¸‹çš„ profile æ•°æ®ã€‚å³ä½¿æˆ‘ä»¬å¯ä»¥å°†â€œå¯äº¤äº’æ—¶é—´â€æ§åˆ¶åœ¨ 1 ç§’å·¦å³ï¼Œæˆ‘ä»¬çš„ç”¨æˆ·ä»ç„¶ä¼šè§‰å¾—è¿™å¯¹äºâ€œä»…ä»…åˆ‡æ¢ä¸ªæ ‡ç­¾â€æ¥è¯´å®åœ¨æ˜¯å¤ªæ…¢äº†ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/msite-Before-Optim.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å·¨å¤§çš„-javascript-é‡å¯å¼€é”€&quot;&gt;å·¨å¤§çš„ JavaScript é‡å¯å¼€é”€&lt;/h3&gt;

&lt;p&gt;æ ¹æ® Profileï¼Œæˆ‘ä»¬å‘ç°åœ¨é¦–æ¬¡æ¸²æŸ“ï¼ˆFirst Paintï¼‰å‘ç”Ÿä¹‹å‰ï¼Œå¤§é‡çš„æ—¶é—´ï¼ˆ900 æ¯«ç§’ï¼‰éƒ½æ¶ˆè€—åœ¨äº† JavaScript çš„è¿è¡Œä¸Šï¼ˆEvaluate Scriptï¼‰ã€‚å‡ ä¹æ‰€æœ‰è„šæœ¬éƒ½æ˜¯é˜»å¡çš„ï¼ˆParser-blockingï¼‰ï¼Œä¸è¿‡å› ä¸ºæ‰€æœ‰çš„ UI éƒ½æ˜¯ç”± JavaScript/Vue é©±åŠ¨çš„ï¼Œå€’ä¹Ÿä¸ä¼šæœ‰æ€§èƒ½å½±å“ã€‚è¿™ 900ms ä¸­ï¼Œçº¦ä¸€åŠæ˜¯æ¶ˆè€—åœ¨åŒ…æ‹¬ Vue è¿è¡Œæ—¶ã€ç»„ä»¶ã€åº“ç­‰ä¾èµ–çš„è¿è¡Œä¸Šï¼Œè€Œå¦ä¸€åŠåˆ™èŠ±åœ¨äº†ä¸šåŠ¡ç»„ä»¶å®ä¾‹åŒ–æ—¶ Vue çš„å¯åŠ¨ä¸æ¸²æŸ“ä¸Šã€‚ä»è½¯ä»¶å·¥ç¨‹è§’åº¦æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦è¿™äº›æŠ½è±¡ï¼Œæ‰€ä»¥è¿™é‡Œå¹¶ä¸æ˜¯æƒ³è´£æ€ª JavaScript æˆ–æ˜¯ Vue æ‰€å¸¦æ¥çš„å¼€é”€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä½†æ˜¯ï¼Œåœ¨ SPA ä¸­ï¼ŒJavaScript çš„å¯åŠ¨æˆæœ¬æ˜¯å‡æ‘Šåˆ°æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„ï¼š&lt;/strong&gt; æ¯ä¸ªè„šæœ¬éƒ½åªéœ€è¦è¢«è§£æä¸ç¼–è¯‘ä¸€æ¬¡ï¼Œè¯¸å¦‚ç”Ÿæˆ Virtual DOM ç­‰è¾ƒé‡çš„ä»»åŠ¡å¯ä»¥åªæ‰§è¡Œä¸€æ¬¡ï¼Œåƒ Vue çš„ ViewModel æˆ–æ˜¯ Virtual DOM è¿™æ ·çš„å¤§å¯¹è±¡ä¹Ÿå¯ä»¥è¢«ç•™åœ¨å†…å­˜é‡Œå¤ç”¨ã€‚&lt;strong&gt;å¯æƒœåœ¨å¤šé¡µåº”ç”¨é‡Œå°±ä¸æ˜¯è¿™æ ·äº†ï¼Œæˆ‘ä»¬æ¯æ¬¡åˆ‡æ¢é¡µé¢éƒ½ä¸º JavaScript ä»˜å‡ºäº†å·¨å¤§çš„é‡å¯ä»£ä»·ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;æµè§ˆå™¨çš„ç¼“å­˜å•Šèƒ½ä¸èƒ½å¸®å¸®å¿™&quot;&gt;æµè§ˆå™¨çš„ç¼“å­˜å•Šï¼Œèƒ½ä¸èƒ½å¸®å¸®å¿™ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;èƒ½ï¼Œä¹Ÿä¸èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;V8 æä¾›äº†&lt;a href=&quot;http://v8project.blogspot.com/2015/07/code-caching.html&quot;&gt;ä»£ç ç¼“å­˜ï¼ˆcode cachingï¼‰&lt;/a&gt;ï¼Œå¯ä»¥å°†ç¼–è¯‘åçš„æœºå™¨ç åœ¨æœ¬åœ°æ‹·è´ä¸€ä»½ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸‹æ¬¡è¯·æ±‚åŒä¸€ä¸ªè„šæœ¬æ—¶ä¸€æ¬¡çœç•¥æ‰è¯·æ±‚ã€è§£æã€ç¼–è¯‘çš„æ‰€æœ‰å·¥ä½œã€‚è€Œä¸”ï¼Œå¯¹äºç¼“å­˜åœ¨ Service Worker é…å¥—çš„ Cache Storage ä¸­çš„è„šæœ¬ï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œåå°±è§¦å‘ V8 çš„ä»£ç ç¼“å­˜ï¼Œè¿™å¯¹äºæˆ‘ä»¬çš„å¤šé¡µåˆ‡æ¢èƒ½æä¾›ä¸å°‘å¸®åŠ©ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ä¸€ä¸ªä½ æˆ–è®¸å¬è¿‡çš„æµè§ˆå™¨ç¼“å­˜å«åšâ€œè¿›é€€ç¼“å­˜â€ï¼ŒBack-Forward Cacheï¼Œç®€ç§° bfcacheã€‚æµè§ˆå™¨å‚å•†å¯¹å…¶çš„å‘½åå„å¼‚ï¼ŒOpera ç§°ä¹‹ä¸º Fast History Navigationï¼ŒWebkit ç§°å…¶ä¸º Page Cacheã€‚ä½†æ˜¯æ€è·¯éƒ½ä¸€æ ·ï¼Œ&lt;strong&gt;å°±æ˜¯æˆ‘ä»¬å¯ä»¥è®©æµè§ˆå™¨åœ¨è·³è½¬æ—¶æŠŠå‰ä¸€é¡µç•™å­˜åœ¨å†…å­˜ä¸­ï¼Œä¿ç•™ JavaScript ä¸ DOM çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯å…¨éƒ½é”€æ¯æ‰ã€‚&lt;/strong&gt;ä½ å¯ä»¥éšä¾¿æ‰¾ä¸ªä¼ ç»Ÿçš„å¤šé¡µç½‘ç«™åœ¨ iOS Safari ä¸Šè¯•è¯•ï¼Œæ— è®ºæ˜¯é€šè¿‡æµè§ˆå™¨çš„å‰è¿›åé€€æŒ‰é’®ã€æ‰‹åŠ¿ï¼Œè¿˜æ˜¯é€šè¿‡è¶…é“¾æ¥ï¼ˆä¼šæœ‰ä¸€äº›ä¸åŒï¼‰ï¼ŒåŸºæœ¬éƒ½å¯ä»¥çœ‹åˆ°ç¬é—´åŠ è½½çš„æ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;Bfcache å…¶å®éå¸¸é€‚åˆå¤šé¡µåº”ç”¨ã€‚ä½†ä¸å¹¸çš„æ˜¯ï¼ŒChrome ç”±äºå†…å­˜å¼€é”€ä¸å…¶å¤šè¿›ç¨‹æ¶æ„ç­‰åŸå› ç›®å‰å¹¶ä¸æ”¯æŒã€‚Chrome ç°é˜¶æ®µä»…ä»…åªæ˜¯ç”¨äº†ä¼ ç»Ÿçš„ HTTP ç£ç›˜ç¼“å­˜ï¼Œæ¥ç¨ç¨ç®€åŒ–äº†ä¸€ä¸‹åŠ è½½è¿‡ç¨‹è€Œå·²ã€‚å¯¹äº Chromium å†…æ ¸éœ¸å çš„ Android ç”Ÿæ€æ¥è¯´ï¼Œæˆ‘ä»¬æ²¡æ³•æŒ‡æœ›äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸ºæ„ŸçŸ¥ä½“éªŒå¥‹æ–—&quot;&gt;ä¸ºâ€œæ„ŸçŸ¥ä½“éªŒâ€å¥‹æ–—&lt;/h2&gt;

&lt;p&gt;å°½ç®¡å¤šé¡µåº”ç”¨é¢ä¸´ç€ç°å®ä¸­çš„ä¸å°‘æ€§èƒ½é—®é¢˜ï¼Œæˆ‘ä»¬å¹¶ä¸æƒ³è¿™ä¹ˆå¿«å°±å¦¥åã€‚ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å°è¯•å°½å¯èƒ½å‡å°‘åœ¨é¡µé¢è¾¾åˆ°å¯äº¤äº’æ—¶é—´å‰çš„ä»£ç æ‰§è¡Œé‡ï¼Œæ¯”å¦‚å‡å°‘/æ¨è¿Ÿä¸€äº›ä¾èµ–è„šæœ¬çš„æ‰§è¡Œï¼Œè¿˜æœ‰å‡å°‘åˆæ¬¡æ¸²æŸ“çš„ DOM èŠ‚ç‚¹æ•°ä»¥èŠ‚çœ Virtual DOM çš„åˆå§‹åŒ–å¼€é”€ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¹Ÿæ„è¯†åˆ°åº”ç”¨åœ¨æ„ŸçŸ¥ä½“éªŒä¸Šè¿˜æœ‰æ›´å¤šçš„ä¼˜åŒ–ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;Chrome äº§å“ç»ç† Owen å†™è¿‡ä¸€ç¯‡ &lt;a href=&quot;https://medium.com/@owencm/reactive-web-design-the-secret-to-building-web-apps-that-feel-amazing-b5cbfe9b7c50&quot;&gt;Reactive Web Design: The secret to building web apps that feel amazing&lt;/a&gt;ï¼Œè°ˆåˆ°ä¸¤ç§æ”¹è¿›æ„ŸçŸ¥ä½“éªŒçš„æ‰‹æ®µï¼šä¸€æ˜¯ä½¿ç”¨éª¨æ¶å±ï¼ˆSkeleton Screenï¼‰æ¥å®ç°ç¬é—´åŠ è½½ï¼›äºŒæ˜¯é¢„å…ˆå®šä¹‰å¥½å…ƒç´ çš„å°ºå¯¸æ¥ä¿è¯åŠ è½½çš„ç¨³å®šã€‚è·Ÿæˆ‘ä»¬çš„åšæ³•å¯ä»¥è¯´ä¸è°‹è€Œåˆã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æ¶ˆé™¤ç™½å±æ—¶é—´ï¼Œæˆ‘ä»¬åŒæ ·å¼•å…¥äº†å°ºå¯¸ç¨³å®šçš„éª¨æ¶å±æ¥å¸®åŠ©æˆ‘ä»¬å®ç°ç¬é—´çš„åŠ è½½ä¸å ä½ã€‚å³ä½¿æ˜¯åœ¨ç¡¬ä»¶å¾ˆå¼±çš„è®¾å¤‡ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç‚¹å‡»åˆ‡æ¢æ ‡ç­¾åç«‹åˆ»æ¸²æŸ“å‡ºç›®æ ‡è·¯ç”±çš„éª¨æ¶å±ï¼Œä»¥ä¿è¯ UI æ˜¯ç¨³å®šã€è¿ç»­ã€æœ‰å“åº”çš„ã€‚æˆ‘å½•äº†&lt;a href=&quot;https://youtu.be/K5JBGnMYO1s&quot;&gt;ä¸¤ä¸ª&lt;/a&gt;&lt;a href=&quot;https://youtu.be/w1ZbNsHmRjs&quot;&gt;è§†é¢‘&lt;/a&gt;æ”¾åœ¨ Youtube ä¸Šï¼Œä¸è¿‡å¦‚æœä½ æ˜¯å›½å†…è¯»è€…ï¼Œä½ å¯ä»¥ç›´æ¥è®¿é—®é¥¿äº†ä¹ˆç§»åŠ¨ç½‘ç«™æ¥ä½“éªŒå®åœ°çš„æ•ˆæœ ;) æœ€ç»ˆæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/after-skeleton.jpg&quot; alt=&quot;&quot; /&gt;
&lt;em&gt;åœ¨æ·»åŠ éª¨æ¶å±åï¼Œä»å‘ç°é¡µç‚¹å›é¦–é¡µçš„æ•ˆæœ&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;è¿™æ•ˆæœæœ¬è¯¥å¾ˆè½»æ¾çš„å°±èƒ½å®ç°ï¼Œä¸è¿‡å®é™…ä¸Šæˆ‘ä»¬è¿˜è´¹äº†ç‚¹åŠŸå¤«ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åœ¨æ„å»ºæ—¶ä½¿ç”¨-vue-é¢„æ¸²æŸ“éª¨æ¶å±&quot;&gt;åœ¨æ„å»ºæ—¶ä½¿ç”¨ Vue é¢„æ¸²æŸ“éª¨æ¶å±&lt;/h3&gt;

&lt;p&gt;ä½ å¯èƒ½å·²ç»æƒ³åˆ°äº†ï¼Œä¸ºäº†è®©éª¨æ¶å±å¯ä»¥è¢« Service Worker ç¼“å­˜ï¼Œç¬é—´åŠ è½½å¹¶ç‹¬ç«‹äº JavaScript æ¸²æŸ“ï¼Œæˆ‘ä»¬éœ€è¦æŠŠç»„æˆéª¨æ¶å±çš„ HTML æ ‡ç­¾ã€CSS æ ·å¼ä¸å›¾ç‰‡èµ„æºä¸€å¹¶å†…è”è‡³å„ä¸ªè·¯ç”±çš„é™æ€ &lt;code class=&quot;highlighter-rouge&quot;&gt;*.html&lt;/code&gt; æ–‡ä»¶ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡ï¼Œæˆ‘ä»¬å¹¶ä¸å‡†å¤‡æ‰‹åŠ¨ç¼–å†™è¿™äº›éª¨æ¶å±ã€‚ä½ æƒ³å•Šï¼Œå¦‚æœæ¯æ¬¡çœŸå®ç»„ä»¶æœ‰è¿­ä»£ï¼ˆæ¯ä¸€ä¸ªè·¯ç”±å¯¹æˆ‘ä»¬æ¥è¯´éƒ½æ˜¯ä¸€ä¸ª Vue ç»„ä»¶ï¼‰æˆ‘ä»¬éƒ½éœ€è¦æ‰‹åŠ¨å»åŒæ­¥æ¯ä¸€ä¸ªå˜åŒ–åˆ°éª¨æ¶å±çš„è¯ï¼Œé‚£å®åœ¨æ˜¯å¤ªç¹çä¸”éš¾ä»¥ç»´æŠ¤äº†ã€‚å¥½åœ¨ï¼Œ&lt;a href=&quot;https://www.lukew.com/ff/entry.asp?1797&quot;&gt;éª¨æ¶å±ä¸è¿‡æ˜¯å½“æ•°æ®è¿˜æœªåŠ è½½è¿›æ¥å‰ï¼Œé¡µé¢çš„ä¸€ä¸ªç©ºç™½ç‰ˆæœ¬è€Œå·²&lt;/a&gt;ã€‚å¦‚æœæˆ‘ä»¬èƒ½å°†éª¨æ¶å±å®ç°ä¸ºçœŸå®ç»„ä»¶çš„ä¸€ä¸ªç‰¹æ®ŠçŠ¶æ€ â€”â€” â€œç©ºçŠ¶æ€â€çš„è¯ï¼Œæˆ‘ä»¬ç†è®ºä¸Šå°±å¯ä»¥ä»çœŸå®ç»„ä»¶ä¸­ç›´æ¥æ¸²æŸ“å‡ºéª¨æ¶å±æ¥ã€‚&lt;/p&gt;

&lt;p&gt;è€Œ Vue çš„å¤šæ‰å¤šè‰ºå°±åœ¨è¿™æ—¶ä½“ç°å‡ºæ¥äº†ï¼Œæˆ‘ä»¬çœŸçš„å¯ä»¥ç”¨ &lt;a href=&quot;https://ssr.vuejs.org/en/&quot;&gt;Vue.js çš„æœåŠ¡ç«¯æ¸²æŸ“æ¨¡å—&lt;/a&gt; æ¥å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œä¸è¿‡ä¸æ˜¯ç”¨åœ¨çœŸæ­£çš„æœåŠ¡å™¨ä¸Šï¼Œè€Œæ˜¯åœ¨æ„å»ºæ—¶ç”¨å®ƒæŠŠç»„ä»¶çš„ç©ºçŠ¶æ€é¢„å…ˆæ¸²æŸ“æˆå­—ç¬¦ä¸²å¹¶æ³¨å…¥åˆ° HTML æ¨¡æ¿ä¸­ã€‚ä½ éœ€è¦è°ƒæ•´ä½ çš„ Vue ç»„ä»¶ä»£ç ä½¿å¾—å®ƒå¯ä»¥åœ¨ Node ä¸Šæ‰§è¡Œï¼Œæœ‰äº›é¡µé¢å¯¹ DOM/BOM çš„ä¾èµ–ä¸€æ—¶æ— æ³•è½»æ˜“å»é™¤å¾—ï¼Œæˆ‘ä»¬ç›®å‰åªå¥½é¢å¤–ç¼–å†™ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;*.shell.vue&lt;/code&gt; æ¥æš‚æ—¶ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…³äºæµè§ˆå™¨çš„ç»˜åˆ¶painting&quot;&gt;å…³äºæµè§ˆå™¨çš„ç»˜åˆ¶ï¼ˆPaintingï¼‰&lt;/h3&gt;

&lt;p&gt;HTML æ–‡ä»¶ä¸­æœ‰æ ‡ç­¾å¹¶ä¸æ„å‘³ç€è¿™äº›æ ‡ç­¾å°±èƒ½ç«‹åˆ»è¢«ç»˜åˆ¶åˆ°å±å¹•ä¸Šï¼Œä½ å¿…é¡»ä¿è¯é¡µé¢çš„&lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path/&quot;&gt;å…³é”®æ¸²æŸ“è·¯å¾„&lt;/a&gt;æ˜¯ä¸ºæ­¤ä¼˜åŒ–çš„ã€‚å¾ˆå¤šå¼€å‘è€…ç›¸ä¿¡å°† script æ ‡ç­¾æ”¾åœ¨ body çš„åº•éƒ¨å°±è¶³ä»¥ä¿è¯å†…å®¹èƒ½åœ¨è„šæœ¬æ‰§è¡Œä¹‹å‰è¢«ç»˜åˆ¶ï¼Œè¿™å¯¹äºèƒ½æ¸²æŸ“ä¸å®Œæ•´ DOM æ ‘çš„æµè§ˆå™¨ï¼ˆæ¯”å¦‚æ¡Œé¢æµè§ˆå™¨å¸¸è§çš„æµå¼æ¸²æŸ“ï¼‰æ¥è¯´å¯èƒ½æ˜¯æˆç«‹çš„ã€‚ä½†ç§»åŠ¨ç«¯çš„æµè§ˆå™¨å¾ˆå¯èƒ½å› ä¸ºè€ƒè™‘åˆ°è¾ƒæ…¢çš„ç¡¬ä»¶ã€ç”µé‡æ¶ˆè€—ç­‰å› ç´ å¹¶ä¸è¿™ä¹ˆåšã€‚&lt;strong&gt;ä¸ä»…å¦‚æ­¤ï¼Œå³ä½¿ä½ æ›¾è¢«å‘ŠçŸ¥è®¾ä¸º &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt; æˆ– &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; çš„è„šæœ¬å°±ä¸ä¼šé˜»å¡ HTML è§£æäº†ï¼Œä½†è¿™å¯ä¸æ„å‘³ç€æµè§ˆå™¨å°±ä¸€å®šä¼šåœ¨æ‰§è¡Œå®ƒä»¬ä¹‹å‰è¿›è¡Œæ¸²æŸ“ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://html.spec.whatwg.org/images/asyncdefer.svg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæˆ‘æƒ³æ¾„æ¸…çš„æ˜¯ï¼Œæ ¹æ® &lt;a href=&quot;https://html.spec.whatwg.org/multipage/scripting.html&quot;&gt;HTML è§„èŒƒ Scripting ç« èŠ‚&lt;/a&gt;ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt; è„šæœ¬æ˜¯åœ¨å…¶è¯·æ±‚å®Œæˆåç«‹åˆ»è¿è¡Œçš„ï¼Œå› æ­¤å®ƒæœ¬æ¥å°±å¯èƒ½é˜»å¡åˆ°è§£æã€‚åªæœ‰ &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;ï¼ˆä¸”éå†…è”ï¼‰ä¸æœ€æ–°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;type=module&lt;/code&gt; è¢«æŒ‡å®šä¸ºâ€œä¸€å®šä¸ä¼šé˜»å¡è§£æâ€ã€‚ï¼ˆä¸è¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; ç›®å‰ä¹Ÿæœ‰ç‚¹å°é—®é¢˜â€¦â€¦æˆ‘ä»¬ç¨åä¼šå†æåˆ°ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è€Œæ›´é‡è¦çš„æ˜¯ï¼Œä¸€ä¸ªä¸é˜»å¡ HTML è§£æçš„è„šæœ¬ä»ç„¶å¯èƒ½é˜»å¡åˆ°ç»˜åˆ¶ã€‚&lt;/strong&gt;æˆ‘åšäº†ä¸€ä¸ªç®€åŒ–çš„&lt;strong&gt;â€œæœ€å°å¤šé¡µ PWAâ€&lt;/strong&gt;ï¼ˆMinimal Multi-page PWAï¼Œæˆ– MMPWAï¼‰æ¥æµ‹è¯•è¿™ä¸ªé—®é¢˜ï¼Œï¼šæˆ‘ä»¬åœ¨ä¸€ä¸ª &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt;ï¼ˆä¸”ç¡®å®ä¸é˜»å¡ HTML è§£æï¼‰è„šæœ¬ä¸­ï¼Œç”Ÿæˆå¹¶æ¸²æŸ“ 1000 ä¸ªåˆ—è¡¨é¡¹ï¼Œç„¶åæµ‹è¯•éª¨æ¶å±èƒ½å¦åœ¨è„šæœ¬æ‰§è¡Œä¹‹å‰æ¸²æŸ“å‡ºæ¥ã€‚ä¸‹é¢æ˜¯é€šè¿‡ USB Debugging åœ¨æˆ‘çš„ Nexus 5 çœŸæœºä¸Šå½•åˆ¶çš„ profileï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/thisTick-&amp;amp;-Load.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œå‡ºä¹æ„æ–™å—ï¼Ÿé¦–æ¬¡æ¸²æŸ“ç¡®å®è¢«é˜»å¡åˆ°è„šæœ¬æ‰§è¡Œç»“æŸåæ‰å‘ç”Ÿã€‚ç©¶å…¶åŸå› ï¼Œ&lt;strong&gt;å¦‚æœæˆ‘ä»¬åœ¨æµè§ˆå™¨è¿˜æœªå®Œæˆä¸Šä¸€æ¬¡ç»˜åˆ¶å·¥ä½œä¹‹å‰å°±è¿‡å¿«å¾—è¿›è¡Œäº† DOM æ“ä½œï¼Œæˆ‘ä»¬äº²çˆ±çš„æµè§ˆå™¨å°±åªå¥½æŠ›å¼ƒæ‰€æœ‰å®ƒå·²ç»å®Œæˆçš„åƒç´ ï¼Œä¸”ä¸€ç›´è¦ç­‰å¾…åˆ° DOM æ“ä½œå¼•èµ·çš„æ‰€æœ‰å·¥ä½œç»“æŸä¹‹åæ‰èƒ½é‡æ–°è¿›è¡Œä¸‹ä¸€æ¬¡æ¸²æŸ“ã€‚&lt;/strong&gt;è€Œè¿™ç§æƒ…å†µæ›´å®¹æ˜“åœ¨æ‹¥æœ‰è¾ƒæ…¢ CPU/GPU çš„ç§»åŠ¨è®¾å¤‡ä¸Šå‡ºç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é»‘é­”æ³•åˆ©ç”¨-settimeout-è®©ç»˜åˆ¶æå‰&quot;&gt;é»‘é­”æ³•ï¼šåˆ©ç”¨ setTimeout() è®©ç»˜åˆ¶æå‰&lt;/h3&gt;

&lt;p&gt;ä¸éš¾å‘ç°ï¼Œéª¨æ¶å±çš„ç»˜åˆ¶ä¸è„šæœ¬æ‰§è¡Œå®é™…æ˜¯ä¸€ä¸ªç«æ€ã€‚å¤§æ¦‚æ˜¯ Vue å¤ªå¿«äº†ï¼Œæˆ‘ä»¬çš„éª¨æ¶å±è¿˜æ˜¯æœ‰éå¸¸å¤§çš„æ¦‚ç‡ç»˜åˆ¶ä¸å‡ºæ¥ã€‚äºæ˜¯æˆ‘ä»¬æƒ³ç€å¦‚ä½•èƒ½è®©è„šæœ¬æ‰§è¡Œæ…¢ç‚¹ï¼Œæˆ–è€…è¯´ï¼Œâ€œæ‡’â€ç‚¹ã€‚äºæ˜¯æˆ‘ä»¬æƒ³åˆ°äº†ä¸€ä¸ªç»å…¸çš„ Hackï¼š &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout(callback, 0)&lt;/code&gt;ã€‚æˆ‘ä»¬è¯•ç€æŠŠ MMPWA ä¸­çš„ DOM æ“ä½œï¼ˆæ¸²æŸ“ 1000 ä¸ªåˆ—è¡¨ï¼‰æ”¾è¿› &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout(callback, 0)&lt;/code&gt; é‡Œâ€¦â€¦&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/nextTick-&amp;amp;-Load.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å½“å½“ï¼é¦–æ¬¡æ¸²æŸ“ç¬é—´å°±è¢«æå‰äº†ã€‚å¦‚æœä½ ç†Ÿæ‚‰æµè§ˆå™¨çš„&lt;strong&gt;äº‹ä»¶å¾ªç¯æ¨¡å‹ï¼ˆevent loopï¼‰&lt;/strong&gt;çš„è¯ï¼Œè¿™æ‹› Hack å…¶å®æ˜¯é€šè¿‡ setTimeout çš„å›è°ƒæŠŠ DOM æ“ä½œæ”¾åˆ°äº†äº‹ä»¶å¾ªç¯çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­ä»¥é¿å…å®ƒåœ¨å½“å‰å¾ªç¯æ‰§è¡Œï¼Œè¿™æ ·æµè§ˆå™¨å°±å¾—ä»¥åœ¨ä¸»çº¿ç¨‹ç©ºé—²æ—¶å–˜æ¯ä¸€ä¸‹ï¼ˆæ›´æ–°ä¸€ä¸‹æ¸²æŸ“ï¼‰äº†ã€‚å¦‚æœä½ æƒ³äº²æ‰‹è¯•è¯• MMPWA çš„è¯ï¼Œä½ å¯ä»¥è®¿é—® &lt;a href=&quot;https://github.com/Huxpro/mmpwa&quot;&gt;github.com/Huxpro/mmpwa&lt;/a&gt; æˆ– &lt;a href=&quot;https://huangxuan.me/mmpwa&quot;&gt;huangxuan.me/mmpwa/&lt;/a&gt; è®¿é—®ä»£ç ä¸ Demoã€‚æˆ‘æŠŠ UI è®¾è®¡ä¸ºäº† A/B Test çš„å½¢å¼å¹¶æ”¹ä¸ºæ¸²æŸ“ 5000 ä¸ªåˆ—è¡¨é¡¹æ¥è®©æ•ˆæœæ›´å¤¸å¼ ä¸€äº›ã€‚&lt;/p&gt;

&lt;p&gt;å›åˆ°é¥¿äº†ä¹ˆ PWA ä¸Šï¼Œæˆ‘ä»¬åŒæ ·è¯•ç€æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;new Vue()&lt;/code&gt; æ”¾åˆ°äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout&lt;/code&gt; ä¸­ã€‚æœç„¶ï¼Œé»‘é­”æ³•å†æ¬¡æ˜¾çµï¼Œéª¨æ¶å±åœ¨æ¯æ¬¡è·³è½¬åéƒ½èƒ½ç«‹åˆ»è¢«æ¸²æŸ“ã€‚è¿™æ—¶çš„ Profile çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/msite-After-Optim.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ 400ms æ—¶è§¦å‘é¦–æ¬¡æ¸²æŸ“ï¼ˆéª¨æ¶å±ï¼‰ï¼Œåœ¨ 600ms æ—¶å®ŒæˆçœŸå® UI çš„æ¸²æŸ“å¹¶è¾¾åˆ°é¡µé¢çš„å¯äº¤äº’ã€‚ä½ å¯ä»¥æ‹‰ä¸Šå»è¯¦ç»†å¯¹æ¯”ä¸‹ä¼˜åŒ–å‰å profile çš„åŒºåˆ«ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è¢«æˆ‘-defer-çš„æœ‰å…³-defer-çš„-bug&quot;&gt;è¢«æˆ‘ â€œdeferâ€ çš„æœ‰å…³ &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; çš„ Bug&lt;/h3&gt;

&lt;p&gt;ä¸çŸ¥é“ä½ å‘ç°æ²¡æœ‰ï¼Œåœ¨ä¸Šå›¾çš„ Profile ä¸­ï¼Œæˆ‘ä»¬ä»ç„¶æœ‰ä¸å°‘è„šæœ¬æ˜¯é˜»å¡äº† HTML è§£æçš„ã€‚å¥½å§è®©æˆ‘è§£é‡Šä¸€ä¸‹ï¼Œç”±äºå†å²åŸå› ï¼Œæˆ‘ä»¬ç¡®å®ä¿ç•™äº†ä¸€éƒ¨åˆ†çš„é˜»å¡è„šæœ¬ï¼Œæ¯”å¦‚ä¾µå…¥æ€§å¾ˆå¼ºçš„ &lt;a href=&quot;https://github.com/amfe/lib-flexible&quot;&gt;lib-flexible&lt;/a&gt;ï¼Œæˆ‘ä»¬æ²¡æ³•è½»æ˜“å»é™¤å®ƒã€‚ä¸è¿‡ï¼Œprofile é‡Œçš„å¤§éƒ¨åˆ†é˜»å¡è„šæœ¬å®é™…ä¸Šéƒ½è®¾ç½®äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;ï¼Œæˆ‘ä»¬æœ¬ä»¥ä¸ºä»–ä»¬åº”è¯¥åœ¨ HTML è§£æå®Œæˆä¹‹åæ‰è¢«æ‰§è¡Œï¼Œç»“æœè¢« profile æ‰“äº†ä¸€è„¸ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å’Œ &lt;a href=&quot;https://twitter.com/jaffathecake&quot;&gt;Jake Archibald&lt;/a&gt; &lt;a href=&quot;https://twitter.com/Huxpro/status/859842124849827841&quot;&gt;èŠäº†ä¸€ä¸‹&lt;/a&gt;ï¼Œæœç„¶è¿™æ˜¯ Chrome çš„ Bugï¼š&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; çš„è„šæœ¬è¢«å®Œå…¨ç¼“å­˜æ—¶ï¼Œå¹¶æ²¡æœ‰éµå®ˆè§„èŒƒç­‰å¾…è§£æç»“æŸï¼Œåè€Œé˜»å¡äº†è§£æä¸æ¸²æŸ“ã€‚Jake å·²ç»æäº¤åœ¨ &lt;a href=&quot;https://bugs.chromium.org/p/chromium/issues/detail?id=717979&quot;&gt;crbug&lt;/a&gt; ä¸Šäº†ï¼Œä¸€èµ·ç»™å®ƒæŠ•ç¥¨å§~&lt;/p&gt;

&lt;p&gt;æœ€åï¼Œæ˜¯ä¼˜åŒ–åçš„ Lighthouse è·‘åˆ†ç»“æœï¼ŒåŒæ ·å¯ä»¥çœ‹åˆ°æ˜æ˜¾çš„æ€§èƒ½æå‡ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œèƒ½å½±å“ Lighthouse è·‘åˆ†çš„å› ç´ æœ‰å¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘å»ºè®®ä½ ä»¥æ§åˆ¶å˜é‡ï¼ˆè·‘åˆ†ç”¨çš„è®¾å¤‡ã€è·‘åˆ†æ—¶çš„ç½‘ç»œç¯å¢ƒç­‰ï¼‰çš„æ–¹å¼æ¥è¿›è¡Œå¯¹ç…§å®éªŒã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Lighthouse-after.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€åé™„ä¸Šä¸€å¼ å›¾ï¼Œè¿™å¼ å›¾å½“æ—¶æ˜¯åšç»™ Addy Osmani çš„ I/O æ¼”è®²ç”¨çš„ï¼Œæè¿°äº†é¥¿äº†ä¹ˆ PWA æ˜¯å¦‚ä½•ç»“åˆ Vue æ¥å®ç°å¤šé¡µåº”ç”¨çš„ PRPL æ¨¡å¼ï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªæ¶æ„çš„å‚è€ƒä¸ç¤ºæ„å›¾ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Architecture.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ä¸€äº›æ„Ÿæƒ³&quot;&gt;ä¸€äº›æ„Ÿæƒ³&lt;/h2&gt;

&lt;h3 id=&quot;å¤šé¡µåº”ç”¨ä»ç„¶æœ‰å¾ˆé•¿çš„è·¯è¦èµ°&quot;&gt;å¤šé¡µåº”ç”¨ä»ç„¶æœ‰å¾ˆé•¿çš„è·¯è¦èµ°&lt;/h3&gt;

&lt;p&gt;Web æ˜¯ä¸€ä¸ªæå…¶å¤šæ ·åŒ–çš„å¹³å°ã€‚ä»é™æ€çš„åšå®¢ï¼Œåˆ°ç”µå•†ç½‘ç«™ï¼Œå†åˆ°æ¡Œé¢çº§çš„ç”Ÿäº§åŠ›è½¯ä»¶ï¼Œå®ƒä»¬å…¨éƒ½æ˜¯ Web è¿™ä¸ªå¤§å®¶åº­çš„ç¬¬ä¸€å…¬æ°‘ã€‚è€Œæˆ‘ä»¬ç»„ç»‡ web åº”ç”¨çš„æ–¹å¼ï¼Œä¹ŸåŒæ ·åªä¼šæ›´å¤šè€Œä¸ä¼šæ›´å°‘ï¼šå¤šé¡µã€å•é¡µã€Universal JavaScript åº”ç”¨ã€WebGLã€ä»¥åŠå¯ä»¥é¢„è§çš„ Web Assemblyã€‚ä¸åŒçš„æŠ€æœ¯ä¹‹é—´æ²¡æœ‰è´µè´±ï¼Œä½†æ˜¯é€‚ç”¨åœºæ™¯çš„å·®è·ç¡®æ˜¯å®¢è§‚å­˜åœ¨çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/jaffathecake&quot;&gt;Jake&lt;/a&gt; æ›¾åœ¨ &lt;a href=&quot;https://youtu.be/J2dOTKBoTL4?list=PLNYkxOF6rcIBTs2KPy1E6tIYaWoFcG3uj&quot;&gt;Chrome Dev Summit 2016&lt;/a&gt; ä¸Šè¯´è¿‡ â€œPWA !== SPAâ€ã€‚å¯æ˜¯å°½ç®¡æˆ‘ä»¬å·²ç»ç”¨ä¸Šäº†ä¸€ç³»åˆ—æœ€æ–°çš„æŠ€æœ¯ï¼ˆPRPLã€Service Workerã€App Shellâ€¦â€¦ï¼‰ï¼Œæˆ‘ä»¬ä»ç„¶å› ä¸ºå¤šé¡µåº”ç”¨æ¨¡å‹æœ¬èº«çš„ç¼ºé™·æœ‰ç€éš¾ä»¥é€¾è¶Šçš„ä¸€äº›éšœç¢ã€‚å¤šé¡µåº”ç”¨åœ¨æœªæ¥å¯èƒ½ä¼šæœ‰â€œbfcache APIâ€ã€Navigation Transition ç­‰æ–°çš„è§„èŒƒä»¥ç¼©å°è·Ÿ SPA çš„è·ç¦»ï¼Œä¸è¿‡æˆ‘ä»¬ä¹Ÿå¿…é¡»æ‰¿è®¤ï¼Œæ—¶è‡³ä»Šæ—¥ï¼Œå¤šé¡µåº”ç”¨çš„å±€é™æ€§ä¹Ÿæ˜¯éå¸¸æ˜æ˜¾çš„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è€Œ-pwa-ç»ˆå°†å¸¦é¢†-web-åº”ç”¨è¿›å…¥æ–°çš„æ—¶ä»£&quot;&gt;è€Œ PWA ç»ˆå°†å¸¦é¢† web åº”ç”¨è¿›å…¥æ–°çš„æ—¶ä»£&lt;/h3&gt;

&lt;p&gt;å³ä½¿æˆ‘ä»¬çš„å¤šé¡µåº”ç”¨åœ¨å‡çº§ PWA çš„è·¯ä¸Šä¸å¦‚å•é¡µçš„é‚£äº›æ¥å¾—é‚£ä¹ˆé—ªäº®ï¼Œä½†æ˜¯ PWA èƒŒåçš„æƒ³æ³•ä¸æŠ€æœ¯å´å®å®åœ¨åœ¨çš„å¸®åŠ©æˆ‘ä»¬åœ¨ web å¹³å°ä¸Šæä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;

&lt;p&gt;PWA ä½œä¸º&lt;a href=&quot;https://zhuanlan.zhihu.com/p/25167289&quot;&gt;ä¸‹ä¸€ä»£ Web åº”ç”¨æ¨¡å‹&lt;/a&gt;ï¼Œå…¶å°è¯•è§£å†³çš„æ˜¯ web å¹³å°æœ¬èº«çš„æ ¹æœ¬æ€§é—®é¢˜ï¼šå¯¹ç½‘ç»œä¸æµè§ˆå™¨ UI çš„ç¡¬ä¾èµ–ã€‚å› æ­¤ï¼Œä»»ä½• web åº”ç”¨éƒ½å¯ä»¥ä»ä¸­è·ç›Šï¼Œè¿™ä¸ä½ æ˜¯å¤šé¡µè¿˜æ˜¯å•é¡µã€é¢å‘æ¡Œé¢è¿˜æ˜¯ç§»åŠ¨ç«¯ã€æ˜¯ç”¨ React è¿˜æ˜¯ Vue æ— å…³ã€‚æˆ–è®¸ï¼Œå®ƒè¿˜ç»ˆå°†æ”¹å˜ç”¨æˆ·å¯¹ç§»åŠ¨ web çš„æœŸå¾…ã€‚ç°å¦‚ä»Šï¼Œè°è¿˜è§‰å¾—æ¡Œé¢ç«¯çš„ web åªæ˜¯ä¸ªçœ‹æ–‡æ¡£çš„åœ°æ–¹å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;è¿˜æ˜¯é‚£å¥è€è¯ï¼šè®©æˆ‘ä»¬çš„ç”¨æˆ·ï¼Œä¹Ÿåƒæˆ‘ä»¬è¿™èˆ¬çƒ­çˆ± web å§ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;æœ€åï¼Œæ„Ÿè°¢é¥¿äº†ä¹ˆçš„ç‹äº¦æ–¯ã€ä»»å…‰è¾‰ã€é¢˜å¶ï¼ŒGoogle çš„ Michael Yeungã€DevRel å›¢é˜Ÿï¼Œ UC æµè§ˆå™¨å›¢é˜Ÿï¼Œè…¾è®¯ X5 æµè§ˆå™¨å›¢é˜Ÿåœ¨è¿™æ¬¡é¡¹ç›®ä¸­çš„åˆä½œã€‚æ„Ÿè°¢å°¤é›¨æºªã€é™ˆè’™è¿ªå’Œ Jake Archibald åœ¨å†™ä½œè¿‡ç¨‹ä¸­ç»™äºˆæˆ‘çš„å¸®åŠ©ã€‚&lt;/p&gt;


&lt;/div&gt;

&lt;!-- English Version --&gt;
&lt;div class=&quot;en post-container&quot;&gt;
    
    &lt;blockquote&gt;
  &lt;p&gt;Read at medium.com: &lt;a href=&quot;https://medium.com/elemefe/upgrading-ele-me-to-progressive-web-app-2a446832e509&quot;&gt;Upgrading Ele.me to Progressive Web Apps&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Since the very first experiments that &lt;a href=&quot;https://twitter.com/vuejs/status/834087199008239619&quot;&gt;@Vue.js tweeted&lt;/a&gt;, we at Ele.me (the biggest food ordering and delivering company in China) have been working on upgrading our mobile website to a &lt;a href=&quot;https://developers.google.com/web/progressive-web-apps/&quot;&gt;Progressive Web App&lt;/a&gt;. Weâ€™re proud to ship the world-first PWA exclusively for the Chinese market, but even prouder to collaborate with Google, UC and Tencent to push the boundary of web experience and browser supports in China.&lt;/p&gt;

&lt;h2 id=&quot;multi-page-vue-pwa&quot;&gt;Multi-page, Vue, PWA?&lt;/h2&gt;

&lt;p&gt;There is a prevailing opinion that only structuring a web app as a Single Page App can we build PWAs that deliver app-like user experience. Popular reference examples including &lt;a href=&quot;https://blog.twitter.com/2017/how-we-built-twitter-lite&quot;&gt;Twitter Lite&lt;/a&gt;, &lt;a href=&quot;https://medium.com/progressive-web-apps/building-flipkart-lite-a-progressive-web-app-2c211e641883&quot;&gt;Flipkart Lite&lt;/a&gt;, &lt;a href=&quot;https://medium.com/engineering-housing/progressing-mobile-web-fac3efb8b454&quot;&gt;Housing Go&lt;/a&gt; and &lt;a href=&quot;https://shop.polymer-project.org/&quot;&gt;Polymer Shop&lt;/a&gt; are all using the SPA model.&lt;/p&gt;

&lt;p&gt;However at Ele.me, weâ€™ve come to appreciate many advantages of a Multi-Page App model, and decided to refactor the mobile site from an Angular 1 SPA to a Multi-Paged app more than a year ago. The most important advantage we see is the isolation and decoupling between pages, which allows us to built different parts of the mobile site as â€œmicro-servicesâ€. These services can then be independently iterated, embedded into 3rd-party apps, and even maintained by different teams.&lt;/p&gt;

&lt;p&gt;Meanwhile, we still leverage &lt;a href=&quot;http://vuejs.org/&quot;&gt;Vue.js&lt;/a&gt; to boost our productivity. You may have heard of Vue as a rival of React or Angular, but Vueâ€™s lightweight and performance make it also a perfect replacement of traditional â€œjQuery/Zepto + template engineâ€ stack when engineering a Multi-page app. We built every component as &lt;a href=&quot;http://vuejs.org/v2/guide/single-file-components.html&quot;&gt;Single File Components&lt;/a&gt; so they can be easily shareable between pages. The declarative-ness plus reactivity Vue offered help us manage both code and data flow. Oh, did I mention that &lt;a href=&quot;https://www.youtube.com/watch?v=pBBSp_iIiVM&quot;&gt;Vue is progressive&lt;/a&gt;? So things like Vuex or Vue-Router can be incrementally adopted if our siteâ€™s complexity scales up, likeâ€¦migrating to SPA again? (Who knowsâ€¦)&lt;/p&gt;

&lt;p&gt;In 2017, PWA seems to be all the rage, so we embark on exploring how far can our Vue-based Multi-page PWAs actually go.&lt;/p&gt;

&lt;h2 id=&quot;implementing-prpl-with-mpa&quot;&gt;Implementing â€œPRPLâ€ with MPA&lt;/h2&gt;

&lt;p&gt;I love &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/prpl-pattern/&quot;&gt;PRPL pattern&lt;/a&gt; because it gives you a high-level abstraction of how to structure and design your own PWA systems. Since we are not rebuild everything from scratch, we decided taking implementing PRPL as our migration goal:&lt;/p&gt;

&lt;h3 id=&quot;1-push-critical-resources-for-initial-url-route&quot;&gt;1. PUSH critical resources for initial URL route.&lt;/h3&gt;

&lt;p&gt;The key of pushing/preloading is to prioritize resources hidden in deep dependency graph and make browserâ€™s network stack busy ASAP. Letâ€™s say you have a SPA with code splitting by route, you can push/preload chunks for the current route before the â€œentry chunksâ€ (e.g. webpack manifest, router) finish downloading and evaluating. So when the actual fetches happen, they might already be in caches.&lt;/p&gt;

&lt;p&gt;Routes in MPAs naturally fetch code for that route only, and tend to have a flattening dependency graph. Most scripts depended by Ele.me are just &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;script&amp;gt;&lt;/code&gt; elements, so they can be found and fetched by &lt;a href=&quot;https://calendar.perfplanet.com/2013/big-bad-preloader/&quot;&gt;good old browser preloader&lt;/a&gt; in early parsing phase without explicit &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;link rel=&quot;preload&quot;&amp;gt;&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/PUSH-link-rel-preload.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;To take benefits from HTTP2 Multiplexing, we currently serve all critical resources under a single domain (no more domain sharding), and we are also experimenting on Server Push.&lt;/p&gt;

&lt;h3 id=&quot;2-render-initial-route--get-it-interactive-asap&quot;&gt;2. RENDER initial route &amp;amp; get it interactive ASAP&lt;/h3&gt;

&lt;p&gt;This one is essentially free (ridiculously obvious) in MPA since thereâ€™s only one route at one time.&lt;/p&gt;

&lt;p&gt;A straightforward rendering is critical for metrics such as First-Meaningful-Paint and Time-To-Interactive. MPAs gain it for free due to the simplicity of traditional HTML navigation they used.&lt;/p&gt;

&lt;h3 id=&quot;3-pre-cache-remaining-routes-using-service-worker&quot;&gt;3. &lt;strong&gt;PRE-CACHE&lt;/strong&gt; remaining routes using Service Worker&lt;/h3&gt;

&lt;p&gt;Thisâ€™s the part &lt;a href=&quot;https://w3c.github.io/ServiceWorker/v1/&quot;&gt;Service Worker&lt;/a&gt; come to join the show. Service Worker is known as a client-side proxy enabling developers to intercept requests and serve responses from cache, but it can also perform initiative fetch to prefetch then precache future resources.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/PRECACHE-future-routes.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We already used &lt;a href=&quot;https://webpack.github.io/&quot;&gt;Webpack&lt;/a&gt; in the build process to do &lt;code class=&quot;highlighter-rouge&quot;&gt;.vue&lt;/code&gt; compilation and asset versioning, so we create a webpack plugin to help us collecting dependencies into a â€œprecache manifestâ€ and generating a new Service Worker file after each build. This is pretty much like &lt;a href=&quot;https://medium.com/@Huxpro/how-does-sw-precache-works-2d99c3d3c725&quot;&gt;how SW-Precache works&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;In fact, we only collect dependencies of routes we flagged as â€œCritical Routeâ€.&lt;/strong&gt; You can think of them as &lt;a href=&quot;https://developers.google.com/web/updates/2015/11/app-shell&quot;&gt;â€œApp Shellâ€&lt;/a&gt; or the â€œInstallation Packageâ€ of our app. Once they are cached/installed successfully, our web app can boot up directly from cache and available offline. Routes that â€œnot criticalâ€ would be incrementally cached at runtime during the first visit. Thanks to the LRU cache policies and TTL invalidation mechanisms provided by &lt;a href=&quot;https://googlechrome.github.io/sw-toolbox/&quot;&gt;SW-Toolbox&lt;/a&gt;, we have no worries of hitting the quota in a long run.&lt;/p&gt;

&lt;h3 id=&quot;4-lazy-load--instantiate-remaining-routes-on-demand&quot;&gt;4. LAZY-load &amp;amp; instantiate remaining routes on demand&lt;/h3&gt;

&lt;p&gt;Lazy-loading and lazily instantiating remaining parts of the app is relatively challenging for SPA to achieve. It requires both code splitting and async importing. Fortunately, this is also a built-in feature of MPA model, in which routes are naturally separated.&lt;/p&gt;

&lt;p&gt;Noticed that the lazy-loading can be done instantly if the requested route is already pre-cached in Service Worker cache, no matter whether SPA or MPA is used. #ServiceWorkerAwesomeness&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Surprisingly, we found Multi-page PWA is kinda naturally â€œPRPLâ€! MPA has already provided built-in support for â€œPRLâ€, and the second â€œPâ€ involving Service Worker can be easily fulfilled in any PWA.&lt;/p&gt;

&lt;p&gt;So what about the end result?&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Lighthouse-before.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;In &lt;a href=&quot;https://developers.google.com/web/tools/lighthouse/&quot;&gt;Lighthouse&lt;/a&gt; simulation (3G &amp;amp; 5x Slower CPU), we made Time-To-Interactive around 2 seconds,&lt;/strong&gt; and this was benchmarked on our HTTP1 test server.&lt;/p&gt;

&lt;p&gt;The first visit is fast. The repeat visit with Service Worker is even faster. You can check out this video to see the huge difference between with or without Service Worker:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/mbi_WnunJa8&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Did you see that? No, I mean the annoying blank screen. Even in the Service Worker one, the blank screen is still conspicuous during navigating. How can that be?&lt;/p&gt;

&lt;h2 id=&quot;multi-page-pitfall-redo-everything&quot;&gt;Multi-page Pitfall: Redo Everything!&lt;/h2&gt;

&lt;p&gt;Unlike SPA, changing routes in MPA means actual browser navigation happens: The previous page is discarded completely and the browser need to redo everything for next route: re-download resources, re-parse HTML, re-evaluate JavaScript, re-decode image data, re-layout the page and re-paint the screen, even many of them could be shared across routes. All of these works combined requires significant computing and time.&lt;/p&gt;

&lt;p&gt;So here is the profile (2x slower CPU simulated) of our entry page (most heavy one). Even we can make Time-To-Interactive around 1s in repeat visit, our users can still feel too slow for just â€œswitching a tabâ€.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/msite-Before-Optim.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;huge-javascript-re-startup-cost&quot;&gt;Huge JavaScript Re-Startup Cost&lt;/h3&gt;

&lt;p&gt;According to the profile, most of the time (900ms) before hitting the first paint is spent on evaluating JavaScript. Half is on dependencies including Vue Runtime, components, libraries etc., another half is on actual Vue starting-up and mounting. Because all UI rendering is depended on JavaScript/Vue, all of the critical scripts remain guiltily parser-blocking. Iâ€™m by no means blaming JavaScript or Vueâ€™s overheads here, Itâ€™s just a tradeoff when we need this layer of abstraction in engineering.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;In SPA, JavaScript Start-up Cost is amortized during the whole lifecycle.&lt;/strong&gt; Parsing/Compiling for each script is only once, many heavy executing can be only once. The big JavaScript objects like Vueâ€™s ViewModels and Virtual DOM can be kept in memory and reused as much as you want. &lt;strong&gt;This is not the case in MPA however.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;could-browser-caches-help&quot;&gt;Could Browser Caches Help?&lt;/h3&gt;

&lt;p&gt;Yes or no.&lt;/p&gt;

&lt;p&gt;V8 introduced &lt;a href=&quot;http://v8project.blogspot.com/2015/07/code-caching.html&quot;&gt;code caching&lt;/a&gt;, a way to store a local copy of compiled code so fetching, parsing and compilation could all be skipped next time. As @addyosmani mentioned in &lt;a href=&quot;https://medium.com/reloading/javascript-start-up-performance-69200f43b201&quot;&gt;JavaScript Start-up Performance&lt;/a&gt;, scripts stored in Cache Storage via Service Worker could trigger code caching in just the first execution.&lt;/p&gt;

&lt;p&gt;Another browser cache you might hear of is â€œBack-Forward Cacheâ€, or bfcache. The name varies, like Operaâ€™s â€œFast History Navigationâ€ or &lt;a href=&quot;https://webkit.org/blog/427/webkit-page-cache-i-the-basics/&quot;&gt;WebKitâ€™s â€œPage Cacheâ€&lt;/a&gt;. &lt;strong&gt;The idea is that browsers can keep the previous page live in memory, i.e. DOM/JS states, instead of destroying everything.&lt;/strong&gt; In fact, this idea works very well for MPA. You can try every traditional Multi-page websites in iOS Safari and observe an instantaneously loading when back/forward. (With browser UI/Gesture or with hyperlink can have a slight difference though.)&lt;/p&gt;

&lt;p&gt;Unfortunately, Chrome has no this kind of in-memory bfcache currently concerning to memory consumption and its multi-process architecture. It just leverages HTTP disk cache to simplify the loading pipeline, almost everything still needs to be redone. More details and discussions can be seen &lt;a href=&quot;https://docs.google.com/document/d/1o8KImLPrJQcMNqvd_a-1V8fEVgtVeEJww453ZQ1hGuo/edit#&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;striving-for-perceived-performance&quot;&gt;Striving for Perceived Performance&lt;/h2&gt;

&lt;p&gt;Although the reality is dark, we donâ€™t want to give up so easily. One optimization we try to do is to render DOM nodes/create Virtual DOM nodes as less as possible to improve the Time-To-Interactive. While another opportunity we see is to play tricks on perceived performance.&lt;/p&gt;

&lt;p&gt;@owencm have written a great post &lt;a href=&quot;https://medium.com/@owencm/reactive-web-design-the-secret-to-building-web-apps-that-feel-amazing-b5cbfe9b7c50&quot;&gt;â€œReactive Web Design: The secret to building web apps that feel amazingâ€&lt;/a&gt; covering both â€œInstant loads with skeleton screensâ€ and â€œStable loads via predefined sizes on elementsâ€ to improve perceived performance and user experience. Yes, we actually used both.&lt;/p&gt;

&lt;p&gt;What about we showing the end result after these optimizations first before entering technical nitty gritty? There you go!&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/K5JBGnMYO1s&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Too fast and can not see the pulsing Skeleton Screen clearly? Here is a version showing how it looks like under 10 times slower CPU.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/w1ZbNsHmRjs&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;This is a much better UX, right? Even we have slow navigation in slow devices, at least the UI is stable, consistent and always responding. So how we get there?&lt;/p&gt;

&lt;h3 id=&quot;rendering-skeleton-screen-with-vue-at-build-time&quot;&gt;Rendering Skeleton Screen with Vue at Build-Time&lt;/h3&gt;

&lt;p&gt;As you might have guessed, the Skeleton Screen that consists of markups, styles, and images is inlined into &lt;code class=&quot;highlighter-rouge&quot;&gt;*.html&lt;/code&gt; of each route. So they can be cached by Service Worker, be loaded instantly, and be rendered independently with any JavaScript.&lt;/p&gt;

&lt;p&gt;We donâ€™t want to manually craft each Skeleton Screen for each routes. Itâ€™s a tedious job and we have to manually sync every change between Skeleton Screens and the actual UI components (Yes we treat every route as just a Vue component). But think about it, &lt;a href=&quot;https://www.lukew.com/ff/entry.asp?1797&quot;&gt;Skeleton Screen is just a blank version of a page into which information is gradually loaded&lt;/a&gt;. What if we bake the Skeleton Screen into the actual UI component as just a loading state so we can render Skeleton Screen out directly from it without the issue of syncing?&lt;/p&gt;

&lt;p&gt;Thanks to the versatility of Vue, we can actually realize it with &lt;a href=&quot;https://ssr.vuejs.org/en/&quot;&gt;Vue.js Server-Side Rendering&lt;/a&gt;. Instead of using it on a real server, we use it at build time to render Vue components to strings and injected them into HTML templates.&lt;/p&gt;

&lt;h3 id=&quot;fast-skeleton-painting&quot;&gt;Fast Skeleton Paintingâ€¦&lt;/h3&gt;

&lt;p&gt;Having markups in &lt;code class=&quot;highlighter-rouge&quot;&gt;*.html&lt;/code&gt; doesnâ€™t mean that they will be painted fast, you have to make sure the &lt;a href=&quot;https://developers.google.com/web/fundamentals/performance/critical-rendering-path/&quot;&gt;Critical Rendering Path&lt;/a&gt; is optimized for that. Many developers believed that putting script tags in the end of the body is sufficient for getting content painted before executing scripts. This might be true for browsers supporting rendering an incomplete DOM tree (e.g. streaming render), But browsers might not do that in mobile concerning slower hardwares, battery, and heats. &lt;strong&gt;And even we are told that script tags with &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; is not parser-blocking, it also doesnâ€™t mean we can get content painted before executing scripts in reality.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://html.spec.whatwg.org/images/asyncdefer.svg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;First I want to clarify it a little bit. According to the &lt;a href=&quot;https://www.w3.org/TR/html51/semantics-scripting.html#elementdef-script&quot;&gt;Scripting section of HTML&lt;/a&gt; (WHATWG living standard, the W3Câ€™s same here), &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt; scripts would be evaluated as soon as it is available thus could potentially blocking parsing. Only &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; (and not inlined) is specified to be never block parsing. Thatâ€™s why &lt;a href=&quot;http://stevesouders.com/&quot;&gt;Steve Souders&lt;/a&gt; ever posted &lt;a href=&quot;https://calendar.perfplanet.com/2016/prefer-defer-over-async/&quot;&gt;â€œPrefer DEFER Over ASYNCâ€&lt;/a&gt;. (&lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; has its own issue and we will cover it later.)&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Then I want to say: A script not blocking parser could still block painting nonetheless.&lt;/strong&gt; So here is a reduced test I wrote named &lt;strong&gt;â€œMinimal Multi-page PWAâ€&lt;/strong&gt;, or MMPWA, which basically render 1000 list items within an &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt; (and truly not parser-blocking) script to see if we can get Skeleton Screen painted before scripts get executed. The profile below (over USB debugging on my real Nexus 5) shows my ignorance:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/thisTick-&amp;amp;-Load.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Yes, keep your mouth open. The first paint is blocked. I was also surprised here. The reason I guess is that &lt;strong&gt;if we touch DOM so quickly that the browser has still NOT finished previous painting job, our dear browser has to abort every pixel it has drawn, and has to wait until current DOM manipulation task finished and redo the rendering pipeline again.&lt;/strong&gt; And this more often happens with a mobile device with a slower CPU/GPU.&lt;/p&gt;

&lt;h3 id=&quot;fast-skeleton-painting-with-settimeout-hack&quot;&gt;Fast Skeleton Painting with setTimeout Hack&lt;/h3&gt;

&lt;p&gt;We indeed encountered this problem when testing our new beautiful Skeleton Screen. Perhaps Vue finishes its job and start to mount nodes too fast ;). But anyway we have to make it slower, or rather lazier. So we try to put DOM manipulation things inside &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout(callback, 0)&lt;/code&gt;, and it works like a charm!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/nextTick-&amp;amp;-Load.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I think you may curious about how this change performs in the wild, so I have refined MMPWA by rendering 5000 list items rather 1000 to make the differences more obvious, and by designing it in an A/B testing manner. The code is on &lt;a href=&quot;https://github.com/Huxpro/mmpwa&quot;&gt;Github&lt;/a&gt; and the demo is live on &lt;a href=&quot;https://huangxuan.me/mmpwa&quot;&gt;huangxuan.me/mmpwa/&lt;/a&gt;. Here is also a video for loungers.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/3Ws7XBHrPD8&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;This famous &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout&lt;/code&gt; hack (a.k.a. Zero Delays) looks quite magic,  but it is scienceâ„¢. If you are familiar with &lt;strong&gt;event loop&lt;/strong&gt;, it just prevents these code from executing in the current loop by putting everything to the &lt;strong&gt;task queues&lt;/strong&gt; with the Timer Callback, so the browser could breath (update the rendering) in the main thread.&lt;/p&gt;

&lt;p&gt;So we applied what we learned from MMPWA by putting &lt;code class=&quot;highlighter-rouge&quot;&gt;new Vue()&lt;/code&gt; inside &lt;code class=&quot;highlighter-rouge&quot;&gt;setTimeout&lt;/code&gt;Â and BOOM! We have Skeleton Screen painted consistently after every navigating! Here is the profile after all these optimizations.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/msite-After-Optim.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Huge improvements right?  This time we hit First Paint (Skeleton Screen Paint) at 400ms and TTI at 600ms. You should really go back to have a before-after comparison in details.&lt;/p&gt;

&lt;h3 id=&quot;one-more-thing-that-ideferred&quot;&gt;One more thing that IÂ deferred&lt;/h3&gt;

&lt;p&gt;But wait, why is there still a bunch of guiltily parser-blocking scripts? Are them all &lt;code class=&quot;highlighter-rouge&quot;&gt;async&lt;/code&gt;? OK, ok. For historical reasons, we do keep some parser-blocking scripts, like &lt;a href=&quot;https://github.com/amfe/lib-flexible&quot;&gt;lib-flexible&lt;/a&gt;, we couldnâ€™t get rid of it without a huge refactoring. But most of these blocking scripts are in fact &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt;. We expected that they can be executed after parsing and in order, however the profile kinda slap on my face. :(&lt;/p&gt;

&lt;p&gt;Remember I said I would talk about one issue of &lt;code class=&quot;highlighter-rouge&quot;&gt;defer&lt;/code&gt; previously? Yes, thatâ€™s it. I have had a &lt;a href=&quot;https://twitter.com/Huxpro/status/859842124849827841&quot;&gt;conversation&lt;/a&gt; with &lt;a href=&quot;https://twitter.com/jaffathecake&quot;&gt;Jake Archibald&lt;/a&gt; and it turns out it might be a bug of Chrome when the deferred scripts are fully cached. &lt;a href=&quot;https://bugs.chromium.org/p/chromium/issues/detail?id=717979&quot;&gt;Vote it at crbug&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;Similar improvements can be seen from Lighthouse (Under same server and network environment). A Pro Tip is you should always use lighthouse in a variable controlling approach.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Lighthouse-after.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;performance-in-the-real-world&quot;&gt;Performance In the Real World&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://medium.com/@slightlylate&quot;&gt;Alex Russell&lt;/a&gt; has given &lt;a href=&quot;https://youtu.be/4bZvq3nodf4?list=PLNYkxOF6rcIBTs2KPy1E6tIYaWoFcG3uj&quot;&gt;a very insightful talk on mobile web performance&lt;/a&gt; at Chrome Dev Summit 2016, talking about how hard can we build performant web applications on mobile devices. Highly recommended.&lt;/p&gt;

&lt;p&gt;Chinese users tend to have a pretty powerful phone. MI4 is shipped with snapdragon 801 (slightly out-performs Nexus 5) but only costs 100$. Itâ€™s affordable by at least 80% of our users so we take it as a baseline.&lt;/p&gt;

&lt;p&gt;Here is a video screen-recorded on my Nexus 5 showing switching between 4 tabs. The performance varies between tabs due to their variant scale. The heaviest one, entry page, take around 1s to hit real Time-To-Interactive on my Nexus 5.&lt;/p&gt;

&lt;p&gt;FYI. This is surprisingly comparable to what I get from Chrome Simulation with 2x CPU throttling. With 5x throttling, this can spend 2â€“3s to get TTI, horribly. (To be honest, I found even under same throttling, the results can vary drastically depended on my Macbookâ€™s â€œmoodâ€.)&lt;/p&gt;

&lt;iframe width=&quot;700&quot; height=&quot;525&quot; src=&quot;https://www.youtube.com/embed/ZLc8jysMqaw?ecver=1&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;final-thoughts&quot;&gt;Final Thoughts&lt;/h2&gt;

&lt;p&gt;This article is much longer than I could imagine. I am really appreciated if you could get here. So what can we learn from it?&lt;/p&gt;

&lt;h3 id=&quot;mpa-still-has-some-way-to-go&quot;&gt;MPA still has some way to go&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/jaffathecake&quot;&gt;Jake Archibald&lt;/a&gt; ever said that â€œPWA !== SPAâ€ at &lt;a href=&quot;https://youtu.be/J2dOTKBoTL4?list=PLNYkxOF6rcIBTs2KPy1E6tIYaWoFcG3uj&quot;&gt;Chrome Dev Summit 2016&lt;/a&gt;. But the sad truth is that even we have taken advantages of bleeding edge technologies such as â€œPRPLâ€ pattern, Service Worker, App-Shell, Skeleton Screen, there is still a distance between us and many Single Page PWA just because we are Multi-page structured.&lt;/p&gt;

&lt;p&gt;The web is extremely versatile. Static blogs, e-business sites, desktop-level software, all of them should be the first-class citizens of the web family. MPA might have things like â€œbfcache APIâ€, navigation transitions to catch up the SPA in the future, but it is not today certainly.&lt;/p&gt;

&lt;h3 id=&quot;pwa-is-awesome-no-matter-what&quot;&gt;PWA is Awesome No Matter What&lt;/h3&gt;

&lt;p&gt;Hey, I am not overblowing it. Even we as a Multi-page PWA couldnâ€™t be as stunning and app-like as many Single Page PWAs are. The idea and technologies behind PWA still help us deliver a much better experience to our users on the web that hasnâ€™t been possible before.&lt;/p&gt;

&lt;p&gt;What PWA is trying to solve are some fundamental problems of current web application model such as its hard dependencies to network and browser UIs. Thatâ€™ why PWA can be always beneficial no matter what architecture or what framework you actually used. &lt;a href=&quot;https://medium.com/@addyosmani&quot;&gt;Addy Osmani&lt;/a&gt; would give a talk &lt;a href=&quot;https://events.google.com/io/schedule/?section=may-19&amp;amp;sid=e8436b55-ea89-4243-a644-5ecb319d9ef0&quot;&gt;Production Progressive Web Apps With JavaScript Frameworks&lt;/a&gt; at this yearâ€™s I/O (and &lt;a href=&quot;https://youtu.be/srdKq0DckXQ?list=PLNYkxOF6rcIDz1TzmmMRBC-kd8zPRTQIP&quot;&gt;I/O 16&lt;/a&gt;). You wonâ€™t want to miss it!&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Finally, Iâ€™d love to thank:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;my colleagues &lt;a href=&quot;https://github.com/YiSiWang&quot;&gt;YiSi Wang&lt;/a&gt;, &lt;a href=&quot;https://github.com/rguanghui&quot;&gt;GuangHui Ren&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@jiyinyiyong&quot;&gt;JiyinYiyong&lt;/a&gt; from Eleme&lt;/li&gt;
  &lt;li&gt;collaborator &lt;a href=&quot;https://medium.com/@micyeung&quot;&gt;Michael Yeung&lt;/a&gt;, &lt;a href=&quot;https://medium.com/@LiamSpradlin&quot;&gt;Liam Spradlin&lt;/a&gt; and other collaborators from Google&lt;/li&gt;
  &lt;li&gt;collaborators from UC/Tencent&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And special thanks toÂ &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;invited reviewer, &lt;a href=&quot;https://medium.com/@youyuxi&quot;&gt;Evan You&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Chrome â€œStackOverflowâ€, &lt;a href=&quot;https://twitter.com/jaffathecake&quot;&gt;Jake Archibald&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Thank you all!&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;appendix-architecture-diagram&quot;&gt;Appendix. Architecture Diagram&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/img/in-post/post-eleme-pwa/Architecture.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;


&lt;/div&gt;
</description>
        <pubDate>Wed, 12 Jul 2017 20:00:00 +0800</pubDate>
        <link>http://localhost:4000/2017/07/12/upgrading-eleme-to-pwa/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/07/12/upgrading-eleme-to-pwa/</guid>
        
        <category>Web</category>
        
        <category>PWA</category>
        
        
      </item>
    
  </channel>
</rss>
